{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\src\\\\Components\\\\LoginAdmin.js\";\nimport React, { Component } from 'react';\nimport 'tachyons';\nimport { withRouter } from 'react-router-dom';\nimport firebaseConf from './Firebase';\nimport { Form, Input, Button } from 'semantic-ui-react';\nimport { Offline } from 'react-detect-offline'; // import './App.css';\n// import { Link } from 'react-router-dom';\n\nvar AdminLogin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AdminLogin, _Component);\n\n  function AdminLogin(props) {\n    var _this;\n\n    _classCallCheck(this, AdminLogin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AdminLogin).call(this, props));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleSubmit = function (event) {\n      _this.setState({\n        isLoading: true\n      });\n\n      var fuid = _this.state.fuid;\n      event.preventDefault();\n      var correctUser = fuid.find(function (data) {\n        return data.username === _this.state.username && data.password === _this.state.password;\n      });\n      console.log(correctUser);\n      var finalUsername = correctUser ? correctUser.username : '';\n      var finalPassword = correctUser ? correctUser.password : ''; // console.log(this.state.id);\n\n      if (finalUsername === _this.state.username && finalPassword === _this.state.password && _this.state.username !== '' && _this.state.password !== '') {\n        sessionStorage.setItem('USERNAME', _this.state.username);\n\n        _this.props.history.push({\n          pathname: '/admin'\n        });\n\n        _this.setState({\n          isLoading: false\n        });\n      } else {\n        _this.showAlert('danger', 'You entered a wrong admin detail,Check your internet connection and try again.');\n\n        _this.setState({\n          isLoading: false\n        });\n      }\n    };\n\n    _this.state = {\n      fuid: [],\n      username: '',\n      password: '',\n      isLoading: false,\n      alert: false,\n      alertData: {}\n    };\n    return _this;\n  }\n\n  _createClass(AdminLogin, [{\n    key: \"showAlert\",\n    value: function showAlert(type, message) {\n      var _this2 = this;\n\n      this.setState({\n        alert: true,\n        alertData: {\n          type: type,\n          message: message\n        }\n      });\n      setTimeout(function () {\n        _this2.setState({\n          alert: false\n        });\n      }, 8000);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      firebaseConf.database().ref('admin').on('value', function (snapshot) {\n        var fuid = [];\n        snapshot.forEach(function (data) {\n          var fuidNew = {\n            username: data.val().username,\n            password: data.val().password\n          };\n          fuid.push(fuidNew);\n\n          _this3.setState({\n            fuid: fuid\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          isLoading = _this$state.isLoading;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Login into Admin\"), this.state.alert && React.createElement(\"div\", {\n        className: \"alert alert-\".concat(this.state.alertData.type),\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, this.state.alertData.message)), React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        widths: \"equal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        control: Input,\n        label: \"Username\",\n        placeholder: \"Username\",\n        name: \"username\",\n        value: username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: Input,\n        label: \"Password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        value: password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        control: Button,\n        type: \"submit\",\n        loading: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Login!!!\")), React.createElement(Offline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"marquee\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"You are currently offline,Connect to continue the process\")));\n    }\n  }]);\n\n  return AdminLogin;\n}(Component);\n\nexport default withRouter(AdminLogin);","map":{"version":3,"sources":["C:\\Users\\Faizal\\Downloads\\e-voting\\src\\Components\\LoginAdmin.js"],"names":["React","Component","withRouter","firebaseConf","Form","Input","Button","Offline","AdminLogin","props","handleChange","e","setState","target","name","value","handleSubmit","event","isLoading","fuid","state","preventDefault","correctUser","find","data","username","password","console","log","finalUsername","finalPassword","sessionStorage","setItem","history","push","pathname","showAlert","alert","alertData","type","message","setTimeout","database","ref","on","snapshot","forEach","fuidNew","val"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport 'tachyons';\r\nimport {withRouter} from 'react-router-dom';\r\nimport firebaseConf from './Firebase';\r\nimport {Form, Input, Button} from 'semantic-ui-react';\r\nimport {Offline} from 'react-detect-offline';\r\n// import './App.css';\r\n// import { Link } from 'react-router-dom';\r\n\r\nclass AdminLogin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fuid: [],\r\n      username: '',\r\n      password: '',\r\n      isLoading: false,\r\n      alert: false,\r\n      alertData: {},\r\n    };\r\n  }\r\n  showAlert(type, message) {\r\n    this.setState({\r\n      alert: true,\r\n      alertData: {type, message},\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({alert: false});\r\n    }, 8000);\r\n  }\r\n  handleChange = e => {\r\n    this.setState({[e.target.name]: e.target.value});\r\n  };\r\n\r\n  componentDidMount() {\r\n    firebaseConf\r\n      .database()\r\n      .ref('admin')\r\n      .on('value', snapshot => {\r\n        const fuid = [];\r\n        snapshot.forEach(data => {\r\n          const fuidNew = {\r\n            username: data.val().username,\r\n            password: data.val().password,\r\n          };\r\n          fuid.push(fuidNew);\r\n          this.setState({fuid});\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    this.setState({isLoading: true});\r\n    const {fuid} = this.state;\r\n    event.preventDefault();\r\n\r\n    let correctUser = fuid.find(data => {\r\n      return (\r\n        data.username === this.state.username &&\r\n        data.password === this.state.password\r\n      );\r\n    });\r\n    console.log(correctUser);\r\n    const finalUsername = correctUser ? correctUser.username : '';\r\n    const finalPassword = correctUser ? correctUser.password : '';\r\n    // console.log(this.state.id);\r\n    if (\r\n      finalUsername === this.state.username &&\r\n      finalPassword === this.state.password &&\r\n      this.state.username !== '' &&\r\n      this.state.password !== ''\r\n    ) {\r\n      sessionStorage.setItem('USERNAME', this.state.username);\r\n      this.props.history.push({pathname: '/admin'});\r\n\r\n      this.setState({isLoading: false});\r\n    } else {\r\n      this.showAlert(\r\n        'danger',\r\n        'You entered a wrong admin detail,Check your internet connection and try again.'\r\n      );\r\n      this.setState({isLoading: false});\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {username, password, isLoading} = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Login into Admin</h1>\r\n        {this.state.alert && (\r\n          <div\r\n            className={`alert alert-${this.state.alertData.type}`}\r\n            role=\"alert\"\r\n          >\r\n            <div className=\"container\">{this.state.alertData.message}</div>\r\n          </div>\r\n        )}\r\n        <Form onSubmit={this.handleSubmit}>\r\n          <Form.Group widths=\"equal\">\r\n            <Form.Field\r\n              control={Input}\r\n              label=\"Username\"\r\n              placeholder=\"Username\"\r\n              name=\"username\"\r\n              value={username}\r\n              onChange={this.handleChange}\r\n            />\r\n            <Form.Field\r\n              control={Input}\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={this.handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Field control={Button} type=\"submit\" loading={isLoading}>\r\n            Login!!!\r\n          </Form.Field>\r\n        </Form>\r\n        <Offline>\r\n          <marquee>\r\n            You are currently offline,Connect to continue the process\r\n          </marquee>\r\n        </Offline>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AdminLogin);\r\n"]},"metadata":{},"sourceType":"module"}