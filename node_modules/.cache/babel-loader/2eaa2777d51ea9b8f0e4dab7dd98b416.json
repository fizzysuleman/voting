{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\src\\\\Components\\\\RemovePosts.js\";\nimport React, { Component } from 'react';\nimport { Table, Container, Button, Modal, Icon, Header } from 'semantic-ui-react';\nimport firebaseConf from './Firebase';\nimport Offline from 'react-detect-offline';\n\nvar TableExampleSelectableInvertedRow =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TableExampleSelectableInvertedRow, _Component);\n\n  function TableExampleSelectableInvertedRow() {\n    var _this;\n\n    _classCallCheck(this, TableExampleSelectableInvertedRow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TableExampleSelectableInvertedRow).call(this));\n\n    _this.openRemove = function (id, post) {\n      _this.setState({\n        userId: id\n      });\n\n      _this.setState({\n        post: post\n      });\n\n      _this.handleOpenDisapprovedModal();\n    };\n\n    _this.removePost = function (userId) {\n      _this.setState({\n        isLoading: true\n      });\n\n      var removeRef = firebaseConf.database().ref(\"/posts/\".concat(userId));\n      removeRef.remove().then(function () {\n        _this.setState({\n          isLoading: false\n        });\n\n        _this.handleCloseDisapprovedModal();\n      });\n    };\n\n    _this.handleOpenDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: true\n      });\n    };\n\n    _this.handleCloseDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: false\n      });\n    };\n\n    _this.state = {\n      posts: [],\n      openDisapprovedModal: false,\n      userId: '',\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(TableExampleSelectableInvertedRow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firebaseConf.database().ref('posts').orderByChild('post').on('value', function (snapshot) {\n        var posts = [];\n        snapshot.forEach(function (data) {\n          var postNew = {\n            id: data.key,\n            post: data.val().post\n          };\n          posts.push(postNew);\n\n          _this2.setState({\n            posts: posts\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          posts = _this$state.posts,\n          isLoading = _this$state.isLoading,\n          openDisapprovedModal = _this$state.openDisapprovedModal;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Table, {\n        collapsing: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        textAlign: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Post\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \" \"))), React.createElement(Table.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, posts.map(function (postes) {\n        return React.createElement(Table.Row, {\n          key: postes.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, postes.post, \" \"), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(Button, {\n          basic: true,\n          color: \"red\",\n          onClick: function onClick() {\n            _this3.openRemove(postes.id, postes.post);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Remove\")));\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        open: openDisapprovedModal,\n        onClose: this.handleCloseDisapprovedModal,\n        basic: true,\n        size: \"small\",\n        style: {\n          minHeight: '100vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Header, {\n        icon: \"user delete\",\n        content: \"Removal Confirmation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Are you sure you want to remove \", this.state.post)), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Button, {\n        basic: true,\n        color: \"red\",\n        inverted: true,\n        onClick: this.handleCloseDisapprovedModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), \" No\"), React.createElement(Button, {\n        color: \"green\",\n        onClick: function onClick() {\n          return _this3.removePost(_this3.state.userId);\n        },\n        loading: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), \" Yes\")))));\n    }\n  }]);\n\n  return TableExampleSelectableInvertedRow;\n}(Component);\n\nexport default TableExampleSelectableInvertedRow;","map":{"version":3,"sources":["C:\\Users\\Faizal\\Downloads\\e-voting\\src\\Components\\RemovePosts.js"],"names":["React","Component","Table","Container","Button","Modal","Icon","Header","firebaseConf","Offline","TableExampleSelectableInvertedRow","openRemove","id","post","setState","userId","handleOpenDisapprovedModal","removePost","isLoading","removeRef","database","ref","remove","then","handleCloseDisapprovedModal","openDisapprovedModal","state","posts","orderByChild","on","snapshot","forEach","data","postNew","key","val","push","map","postes","minHeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Table, Container, Button, Modal, Icon, Header} from 'semantic-ui-react';\r\nimport firebaseConf from './Firebase';\r\nimport Offline from 'react-detect-offline';\r\n\r\nclass TableExampleSelectableInvertedRow extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      posts: [],\r\n      openDisapprovedModal: false,\r\n      userId: '',\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  openRemove = (id, post) => {\r\n    this.setState({userId: id});\r\n    this.setState({post});\r\n    this.handleOpenDisapprovedModal();\r\n  };\r\n  removePost = userId => {\r\n    this.setState({isLoading: true});\r\n    const removeRef = firebaseConf.database().ref(`/posts/${userId}`);\r\n    removeRef.remove().then(() => {\r\n      this.setState({isLoading: false});\r\n      this.handleCloseDisapprovedModal();\r\n    });\r\n  };\r\n  handleOpenDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: true});\r\n  };\r\n\r\n  handleCloseDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: false});\r\n  };\r\n\r\n  componentDidMount() {\r\n    firebaseConf\r\n      .database()\r\n      .ref('posts')\r\n      .orderByChild('post')\r\n      .on('value', snapshot => {\r\n        const posts = [];\r\n        snapshot.forEach(data => {\r\n          const postNew = {id: data.key, post: data.val().post};\r\n          posts.push(postNew);\r\n          this.setState({posts: posts});\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const {posts, isLoading, openDisapprovedModal} = this.state;\r\n    return (\r\n      <div>\r\n        <Container>\r\n          <Table collapsing>\r\n            <Table.Header>\r\n              <Table.Row>\r\n                <Table.HeaderCell textAlign=\"right\">Post</Table.HeaderCell>\r\n                <Table.HeaderCell> </Table.HeaderCell>\r\n              </Table.Row>\r\n            </Table.Header>\r\n            <Table.Body>\r\n              {posts.map(postes => (\r\n                <Table.Row key={postes.id}>\r\n                  <Table.Cell>{postes.post} </Table.Cell>\r\n                  <Table.Cell>\r\n                    <Button\r\n                      basic\r\n                      color=\"red\"\r\n                      onClick={() => {\r\n                        this.openRemove(postes.id, postes.post);\r\n                      }}\r\n                    >\r\n                      Remove\r\n                    </Button>\r\n                  </Table.Cell>\r\n                </Table.Row>\r\n              ))}\r\n            </Table.Body>\r\n          </Table>\r\n        </Container>\r\n        <div>\r\n          <Modal\r\n            open={openDisapprovedModal}\r\n            onClose={this.handleCloseDisapprovedModal}\r\n            basic\r\n            size=\"small\"\r\n            style={{minHeight: '100vh'}}\r\n          >\r\n            <Header icon=\"user delete\" content=\"Removal Confirmation\" />\r\n            <Modal.Content>\r\n              <p>Are you sure you want to remove {this.state.post}</p>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button\r\n                basic\r\n                color=\"red\"\r\n                inverted\r\n                onClick={this.handleCloseDisapprovedModal}\r\n              >\r\n                <Icon name=\"remove\" /> No\r\n              </Button>\r\n              <Button\r\n                color=\"green\"\r\n                onClick={() => this.removePost(this.state.userId)}\r\n                loading={isLoading}\r\n              >\r\n                <Icon name=\"checkmark\" /> Yes\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableExampleSelectableInvertedRow;\r\n"]},"metadata":{},"sourceType":"module"}