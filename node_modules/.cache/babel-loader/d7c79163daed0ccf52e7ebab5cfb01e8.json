{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\src\\\\Components\\\\SchoolId.js\";\nimport React, { Component } from 'react';\nimport { Table, Header, Button, Container, Modal, Icon } from 'semantic-ui-react';\nimport firebaseConf from './Firebase';\n\nvar SchoolId =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SchoolId, _Component);\n\n  function SchoolId() {\n    var _this;\n\n    _classCallCheck(this, SchoolId);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SchoolId).call(this));\n\n    _this.openRemove = function (id, fullName) {\n      _this.setState({\n        id: id\n      });\n\n      _this.setState({\n        fullName: fullName\n      });\n\n      _this.handleOpenDisapprovedModal();\n    };\n\n    _this.removeVoter = function (userId) {\n      _this.setState({\n        isLoading: true\n      });\n\n      var removeRef = firebaseConf.database().ref(\"/school/\".concat(userId));\n      removeRef.remove();\n\n      _this.setState({\n        isLoading: false\n      });\n\n      _this.handleCloseDisapprovedModal();\n\n      ;\n    };\n\n    _this.handleOpenDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: true\n      });\n    };\n\n    _this.handleCloseDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: false\n      });\n    };\n\n    _this.fetchVotersData = function () {\n      firebaseConf.database().ref('school').orderByChild('fullname').on('value', function (snapshot) {\n        var schoolData = [];\n        snapshot.forEach(function (data) {\n          var schoolNew = {\n            uid: data.key,\n            fullName: data.val().fullname,\n            schoolId: data.val().schoolId\n          };\n          schoolData.push(schoolNew);\n\n          _this.setState({\n            schoolData: schoolData\n          });\n        });\n      });\n    };\n\n    _this.state = {\n      schoolData: [],\n      isLoading: false,\n      openDisapprovedModal: false,\n      userId: ''\n    };\n    return _this;\n  }\n\n  _createClass(SchoolId, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchVotersData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          openDisapprovedModal = _this$state.openDisapprovedModal;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Table, {\n        celled: true,\n        inverted: true,\n        selectable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Fullname\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"School Id\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Status\"))), React.createElement(Table.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.state.schoolData.map(function (item, index) {\n        return React.createElement(Table.Row, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(Header, {\n          as: \"h4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(Header.Content, {\n          style: {\n            color: 'white'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, item.fullName))), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, item.schoolId), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(Button, {\n          basic: true,\n          color: \"red\",\n          onClick: function onClick() {\n            _this2.openRemove(item.uid, item.fullName);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Remove\")));\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        open: openDisapprovedModal,\n        onClose: this.handleCloseDisapprovedModal,\n        basic: true,\n        size: \"small\",\n        style: {\n          minHeight: '100vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Header, {\n        icon: \"user delete\",\n        content: \"Removal Confirmation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Are you sure you want to remove \", this.state.fullName)), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Button, {\n        basic: true,\n        color: \"red\",\n        inverted: true,\n        onClick: this.handleCloseDisapprovedModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), \" No\"), React.createElement(Button, {\n        color: \"green\",\n        onClick: function onClick() {\n          return _this2.removeVoter(_this2.state.id);\n        },\n        loading: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), \" Yes\")))));\n    }\n  }]);\n\n  return SchoolId;\n}(Component);\n\nexport default SchoolId;","map":{"version":3,"sources":["C:\\Users\\Faizal\\Downloads\\e-voting\\src\\Components\\SchoolId.js"],"names":["React","Component","Table","Header","Button","Container","Modal","Icon","firebaseConf","SchoolId","openRemove","id","fullName","setState","handleOpenDisapprovedModal","removeVoter","userId","isLoading","removeRef","database","ref","remove","handleCloseDisapprovedModal","openDisapprovedModal","fetchVotersData","orderByChild","on","snapshot","schoolData","forEach","data","schoolNew","uid","key","val","fullname","schoolId","push","state","map","item","index","color","minHeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Table, Header, Button, Container, Modal, Icon} from 'semantic-ui-react';\r\n\r\nimport firebaseConf from './Firebase';\r\n\r\nclass SchoolId extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n        schoolData: [],\r\n      isLoading: false,\r\n      openDisapprovedModal: false,\r\n      userId: '',\r\n    };\r\n  }\r\n  openRemove = (id, fullName) => {\r\n    this.setState({id});\r\n    this.setState({fullName});\r\n    this.handleOpenDisapprovedModal();\r\n  };\r\n\r\n  removeVoter = userId => {\r\n    this.setState({isLoading: true});\r\n    const removeRef = firebaseConf.database().ref(`/school/${userId}`);\r\n    removeRef.remove()\r\n        this.setState({isLoading: false});\r\n      this.handleCloseDisapprovedModal();\r\n   ;\r\n  };\r\n  handleOpenDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: true});\r\n  };\r\n  handleCloseDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: false});\r\n  };\r\n  componentDidMount() {\r\n    this.fetchVotersData();\r\n  }\r\n  fetchVotersData = () => {\r\n    firebaseConf\r\n      .database()\r\n      .ref('school')\r\n      .orderByChild('fullname')\r\n      .on('value', snapshot => {\r\n        const schoolData = [];\r\n        snapshot.forEach(data => {\r\n          const schoolNew = {\r\n            uid: data.key,\r\n            fullName: data.val().fullname,\r\n            schoolId: data.val().schoolId,\r\n            \r\n          };\r\n\r\n          schoolData.push(schoolNew);\r\n          this.setState({schoolData});\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {isLoading, openDisapprovedModal} = this.state;\r\n    return (\r\n      <div>\r\n        <Container>\r\n          <Table celled inverted selectable>\r\n            <Table.Header>\r\n              <Table.Row>\r\n                <Table.HeaderCell>Fullname</Table.HeaderCell>\r\n                <Table.HeaderCell>School Id</Table.HeaderCell>\r\n                \r\n                <Table.HeaderCell>Status</Table.HeaderCell>\r\n              </Table.Row>\r\n            </Table.Header>\r\n            <Table.Body>\r\n              {this.state.schoolData.map((item,index) => (\r\n                <Table.Row key={index}>\r\n                  <Table.Cell>\r\n                    <Header as=\"h4\">\r\n                      <Header.Content style={{color: 'white'}}>\r\n                        {item.fullName}\r\n                      </Header.Content>\r\n                    </Header>\r\n                  </Table.Cell>\r\n                  <Table.Cell>{item.schoolId}</Table.Cell>\r\n                  \r\n                  <Table.Cell>\r\n                    <Button basic color=\"red\"\r\n                    onClick={() =>{\r\n                      this.openRemove(item.uid,\r\nitem.fullName )\r\n                    }}>Remove</Button>\r\n                  </Table.Cell>\r\n                </Table.Row>\r\n              ))}\r\n            </Table.Body>\r\n          </Table>\r\n        </Container>\r\n        <div>\r\n          <Modal\r\n            open={openDisapprovedModal}\r\n            onClose={this.handleCloseDisapprovedModal}\r\n            basic\r\n            size=\"small\"\r\n            style={{minHeight: '100vh'}}\r\n          >\r\n            <Header icon=\"user delete\" content=\"Removal Confirmation\" />\r\n            <Modal.Content>\r\n              <p>Are you sure you want to remove {this.state.fullName}</p>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button\r\n                basic\r\n                color=\"red\"\r\n                inverted\r\n                onClick={this.handleCloseDisapprovedModal}\r\n              >\r\n                <Icon name=\"remove\" /> No\r\n              </Button>\r\n              <Button\r\n                color=\"green\"\r\n                onClick={() => this.removeVoter(this.state.id)}\r\n                loading={isLoading}\r\n              >\r\n                <Icon name=\"checkmark\" /> Yes\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SchoolId;\r\n"]},"metadata":{},"sourceType":"module"}