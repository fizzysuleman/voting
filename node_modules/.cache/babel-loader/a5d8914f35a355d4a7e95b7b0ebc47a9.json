{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\src\\\\Components\\\\Disapproved.js\";\nimport React, { Component } from 'react';\nimport { Table, Header, Image, Button, Icon, Modal } from 'semantic-ui-react';\nimport { withRouter } from 'react-router-dom';\nimport firebaseConf from './Firebase';\n\nvar TableExampleSelectableInvertedRow =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TableExampleSelectableInvertedRow, _Component);\n\n  function TableExampleSelectableInvertedRow(props) {\n    var _this;\n\n    _classCallCheck(this, TableExampleSelectableInvertedRow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TableExampleSelectableInvertedRow).call(this, props));\n\n    _this.openDisapprove = function (id, aspirantKey, fullName) {\n      _this.setState({\n        userId: id\n      });\n\n      _this.setState({\n        aKey: aspirantKey\n      });\n\n      _this.setState({\n        fullName: fullName\n      });\n\n      _this.handleOpenDisapprovedModal();\n    };\n\n    _this.removeItem = function (userId, aKey) {\n      _this.setState({\n        isLoading: true\n      });\n\n      console.log(aKey);\n      var itemRef = firebaseConf.database().ref(\"/posts/\".concat(userId, \"/aspirants/\").concat(aKey));\n      itemRef.remove().then(function () {\n        _this.setState({\n          isLoading: false\n        });\n\n        _this.handleCloseDisapprovedModal();\n      });\n    };\n\n    _this.handleOpen = function () {\n      _this.setState({\n        modalOpen: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        modalOpen: false\n      });\n    };\n\n    _this.handleOpenDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: true\n      });\n    };\n\n    _this.handleCloseDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: false\n      });\n    };\n\n    _this.changePost = function (post, lastName, firstName, id, aspirantKey, section, reason, todo, imageUrl) {\n      _this.props.history.push({\n        pathname: '/change',\n        state: {\n          post: post,\n          lastName: lastName,\n          firstName: firstName,\n          id: id,\n          aspirantKey: aspirantKey,\n          section: section,\n          reason: reason,\n          todo: todo,\n          imageUrl: imageUrl\n        }\n      });\n    };\n\n    _this.fetchAspirantsdata = function () {\n      firebaseConf.database().ref('disapprovedAspirants').orderByChild('prefectName').on('value', function (snapshot) {\n        var postsData = [];\n        snapshot.forEach(function (data) {\n          postsData.push({\n            firstName: data.val().firstName,\n            lastName: data.val().lastName,\n            prefectId: data.val().prefectId,\n            imageUrl: data.val().imageUrl,\n            prefectName: data.val().prefectName,\n            reason: data.val().reason,\n            schoolId: data.val().schoolId,\n            section: data.val().section,\n            todo: data.val().todo\n          });\n        });\n\n        _this.setState({\n          postsData: postsData\n        });\n      });\n    };\n\n    _this.state = {\n      postsData: [],\n      isLoading: false,\n      openDisapprovedModal: false,\n      aKey: '',\n      userId: '',\n      aspirant: [],\n      modalOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(TableExampleSelectableInvertedRow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchAspirantsdata();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          postsData = _this$state.postsData,\n          isLoading = _this$state.isLoading,\n          openDisapprovedModal = _this$state.openDisapprovedModal,\n          aspirant = _this$state.aspirant;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Table, {\n        celled: true,\n        inverted: true,\n        selectable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Fullname\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Post\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Class(SS2)\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"School ID\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Reason want to become a Prefect\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"What would do if put in that post\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Status\"))), React.createElement(Table.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, postsData.map(function (item, index) {\n        return React.createElement(Table.Row, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(Header, {\n          as: \"h4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(Image, {\n          src: item.imageUrl.downloadURL ? item.imageUrl : '',\n          rounded: true,\n          size: \"mini\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }), React.createElement(Header.Content, {\n          style: {\n            color: 'white'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, item.lastName + ' ' + item.firstName))), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, item.prefectName), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, item.section), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, item.schoolId), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, item.reason), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, item.todo), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(Button, {\n          basic: true,\n          color: \"green\",\n          onClick: function onClick() {\n            return _this2.openDisapprove(item.prefectId, item.aspirantKey, item.lastName, item.firstName, item.prefectName, item.section, item.schoolId, item.reason, item.todo, item.imageUrl);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Approve\"), React.createElement(Button, {\n          basic: true,\n          color: \"blue\",\n          onClick: function onClick() {\n            return _this2.handleOpen(item.prefectName, item.lastName, item.firstName, item.prefectId, item.aspirantKey, item.section, item.reason, item.todo, item.imageUrl.downloadURL);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, \"Reason for disapproval\")));\n      }))), React.createElement(Image, {\n        src: this.state.img,\n        rounded: true,\n        size: \"mini\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        open: openDisapprovedModal,\n        onClose: this.handleCloseDisapprovedModal,\n        basic: true,\n        size: \"small\",\n        style: {\n          minHeight: '100vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(Header, {\n        icon: \"user delete\",\n        content: \"Removal Confirmation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Are you sure you want to remove \", this.state.fullName)), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(Button, {\n        basic: true,\n        color: \"red\",\n        inverted: true,\n        onClick: this.handleCloseDisapprovedModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }), \" No\"), React.createElement(Button, {\n        color: \"green\",\n        onClick: function onClick() {\n          return _this2.removeItem(_this2.state.userId, _this2.state.aKey);\n        },\n        loading: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), \" Yes\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        open: this.state.modalOpen,\n        onClose: this.handleClose,\n        basic: true,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Header, {\n        icon: \"browser\",\n        content: \"Cookies policy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, \"This website uses cookies to ensure the best user experience.\")), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"green\",\n        onClick: this.handleClose,\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), \" Got it\")))));\n    }\n  }]);\n\n  return TableExampleSelectableInvertedRow;\n}(Component);\n\nexport default withRouter(TableExampleSelectableInvertedRow);","map":{"version":3,"sources":["C:\\Users\\Faizal\\Downloads\\e-voting\\src\\Components\\Disapproved.js"],"names":["React","Component","Table","Header","Image","Button","Icon","Modal","withRouter","firebaseConf","TableExampleSelectableInvertedRow","props","openDisapprove","id","aspirantKey","fullName","setState","userId","aKey","handleOpenDisapprovedModal","removeItem","isLoading","console","log","itemRef","database","ref","remove","then","handleCloseDisapprovedModal","handleOpen","modalOpen","handleClose","openDisapprovedModal","changePost","post","lastName","firstName","section","reason","todo","imageUrl","history","push","pathname","state","fetchAspirantsdata","orderByChild","on","snapshot","postsData","forEach","data","val","prefectId","prefectName","schoolId","aspirant","map","item","index","downloadURL","color","img","minHeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Table, Header, Image, Button, Icon, Modal} from 'semantic-ui-react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport firebaseConf from './Firebase';\r\n\r\nclass TableExampleSelectableInvertedRow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      postsData: [],\r\n      isLoading: false,\r\n      openDisapprovedModal: false,\r\n      aKey: '',\r\n      userId: '',\r\n      aspirant: [],\r\n      modalOpen: false\r\n    };\r\n  }\r\n\r\n  openDisapprove = (id, aspirantKey, fullName) => {\r\n    this.setState({userId: id});\r\n    this.setState({aKey: aspirantKey});\r\n    this.setState({fullName});\r\n    this.handleOpenDisapprovedModal();\r\n  };\r\n\r\n  removeItem = (userId, aKey) => {\r\n    this.setState({isLoading: true});\r\n    console.log(aKey);\r\n    const itemRef = firebaseConf\r\n      .database()\r\n      .ref(`/posts/${userId}/aspirants/${aKey}`);\r\n    itemRef.remove().then(() => {\r\n      this.setState({isLoading: false});\r\n      this.handleCloseDisapprovedModal();\r\n    });\r\n  };\r\n  handleOpen = () =>{ \r\n    this.setState({ modalOpen: true })\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ modalOpen: false })\r\n  }\r\n  handleOpenDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: true});\r\n  };\r\n\r\n  handleCloseDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: false});\r\n  };\r\n\r\n  changePost = (\r\n    post,\r\n    lastName,\r\n    firstName,\r\n    id,\r\n    aspirantKey,\r\n    section,\r\n    reason,\r\n    todo,\r\n    imageUrl\r\n  ) => {\r\n    this.props.history.push({\r\n      pathname: '/change',\r\n      state: {\r\n        post,\r\n        lastName,\r\n        firstName,\r\n        id,\r\n        aspirantKey,\r\n        section,\r\n        reason,\r\n        todo,\r\n        imageUrl,\r\n      },\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchAspirantsdata();\r\n  }\r\n\r\n  fetchAspirantsdata = () => {\r\n    firebaseConf\r\n      .database()\r\n      .ref('disapprovedAspirants')\r\n      .orderByChild('prefectName')\r\n      .on('value', snapshot => {\r\n        const postsData = [];\r\n        snapshot.forEach(data => {\r\n          postsData.push({\r\n            firstName: data.val().firstName,\r\n            lastName: data.val().lastName,\r\n            prefectId: data.val().prefectId,\r\n            imageUrl: data.val().imageUrl,\r\n            prefectName: data.val().prefectName,\r\n            reason: data.val().reason,\r\n            schoolId: data.val().schoolId,\r\n            section: data.val().section,\r\n            todo: data.val().todo,\r\n          });\r\n        });\r\n\r\n        this.setState({postsData: postsData});\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {postsData, isLoading, openDisapprovedModal, aspirant} = this.state;\r\n    return (\r\n      <div>\r\n        <Table celled inverted selectable>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell>Fullname</Table.HeaderCell>\r\n              <Table.HeaderCell>Post</Table.HeaderCell>\r\n              <Table.HeaderCell>Class(SS2)</Table.HeaderCell>\r\n              <Table.HeaderCell>School ID</Table.HeaderCell>\r\n              <Table.HeaderCell>\r\n                Reason want to become a Prefect\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell>\r\n                What would do if put in that post\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell>Status</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header>\r\n          <Table.Body>\r\n            {postsData.map((item, index) => (\r\n              <Table.Row key={index}>\r\n                <Table.Cell>\r\n                  <Header as=\"h4\">\r\n                    <Image\r\n                      src={item.imageUrl.downloadURL ? item.imageUrl : ''}\r\n                      rounded\r\n                      size=\"mini\"\r\n                    />\r\n                    <Header.Content style={{color: 'white'}}>\r\n                      {item.lastName + ' ' + item.firstName}\r\n                    </Header.Content>\r\n                  </Header>\r\n                </Table.Cell>\r\n                <Table.Cell>{item.prefectName}</Table.Cell>\r\n                <Table.Cell>{item.section}</Table.Cell>\r\n                <Table.Cell>{item.schoolId}</Table.Cell>\r\n                <Table.Cell>{item.reason}</Table.Cell>\r\n                <Table.Cell>{item.todo}</Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    basic\r\n                    color=\"green\"\r\n                    onClick={() =>\r\n                      this.openDisapprove(\r\n                        item.prefectId,\r\n                        item.aspirantKey,\r\n                        item.lastName,\r\n                        item.firstName,\r\n                        item.prefectName,\r\n                        item.section,\r\n                        item.schoolId,\r\n                        item.reason,\r\n                        item.todo,\r\n                        item.imageUrl\r\n                      )\r\n                    }\r\n                  >\r\n                    Approve\r\n                  </Button>\r\n\r\n                  <Button\r\n                    basic\r\n                    color=\"blue\"\r\n                    onClick={() =>\r\n                      this.handleOpen(\r\n                        item.prefectName,\r\n                        item.lastName,\r\n                        item.firstName,\r\n                        item.prefectId,\r\n                        item.aspirantKey,\r\n                        item.section,\r\n                        item.reason,\r\n                        item.todo,\r\n                        item.imageUrl.downloadURL\r\n                      )\r\n                    }\r\n                  >\r\n                    Reason for disapproval\r\n                  </Button>\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n          </Table.Body>\r\n        </Table>\r\n        <Image src={this.state.img} rounded size=\"mini\" />\r\n        {/* .............................................................................................................................................. */}\r\n        {/* .............................................................................................................................................. */}\r\n        {/* .............................................................................................................................................. */}\r\n\r\n        <div>\r\n          <Modal\r\n            open={openDisapprovedModal}\r\n            onClose={this.handleCloseDisapprovedModal}\r\n            basic\r\n            size=\"small\"\r\n            style={{minHeight: '100vh'}}\r\n          >\r\n            <Header icon=\"user delete\" content=\"Removal Confirmation\" />\r\n            <Modal.Content>\r\n              <p>Are you sure you want to remove {this.state.fullName}</p>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button\r\n                basic\r\n                color=\"red\"\r\n                inverted\r\n                onClick={this.handleCloseDisapprovedModal}\r\n              >\r\n                <Icon name=\"remove\" /> No\r\n              </Button>\r\n              <Button\r\n                color=\"green\"\r\n                onClick={() =>\r\n                  this.removeItem(this.state.userId, this.state.aKey)\r\n                }\r\n                loading={isLoading}\r\n              >\r\n                <Icon name=\"checkmark\" /> Yes\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n        </div>\r\n        <div>\r\n        <Modal\r\n        open={this.state.modalOpen}\r\n        onClose={this.handleClose}\r\n        basic\r\n        size='small'\r\n      >\r\n        <Header icon='browser' content='Cookies policy' />\r\n        <Modal.Content>\r\n          <h3>This website uses cookies to ensure the best user experience.</h3>\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color='green' onClick={this.handleClose} inverted>\r\n            <Icon name='checkmark' /> Got it\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(TableExampleSelectableInvertedRow);\r\n"]},"metadata":{},"sourceType":"module"}