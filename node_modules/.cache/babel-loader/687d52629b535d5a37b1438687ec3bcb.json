{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\src\\\\Components\\\\Settings.js\";\nimport React, { Component } from 'react';\nimport { Menu, Button, Modal, Header, Icon, Container, Grid, Segment } from 'semantic-ui-react';\nimport { withRouter } from 'react-router-dom';\nimport firebaseConf from './Firebase';\n\nvar Logout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Logout, _Component);\n\n  function Logout() {\n    var _this;\n\n    _classCallCheck(this, Logout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Logout).call(this));\n\n    _this.handleSubmit = function () {\n      _this.setState({\n        isLoading: true\n      });\n\n      _this.props.history.push({\n        pathname: '/login-admin'\n      });\n\n      _this.setState({\n        isLoading: false\n      });\n\n      sessionStorage.removeItem('USERNAME');\n    };\n\n    _this.handleOpenDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: true\n      });\n    };\n\n    _this.handleCloseDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: false\n      });\n    };\n\n    _this.changePassword = function () {\n      _this.props.history.push({\n        pathname: '/change-password'\n      });\n    };\n\n    _this.handleDisableRegisterAspirant = function () {\n      firebaseConf.database().ref('registerAspirantButton').update({\n        type: false\n      });\n    };\n\n    _this.handleEnableRegisterAspirant = function () {\n      firebaseConf.database().ref('registerAspirantButton').update({\n        type: true\n      });\n    };\n\n    _this.handleDisableElection = function () {\n      firebaseConf.database().ref('election').update({\n        type: false\n      });\n    };\n\n    _this.handleEnableElection = function () {\n      firebaseConf.database().ref('election').update({\n        type: true\n      });\n    };\n\n    _this.handleDisableRegister = function () {\n      firebaseConf.database().ref('registerButton').update({\n        type: false\n      });\n    };\n\n    _this.handleEnableRegister = function () {\n      firebaseConf.database().ref('registerButton').update({\n        type: true\n      });\n    };\n\n    _this.fetchElectionButton = function () {\n      firebaseConf.database().ref('election').on('value', function (snapshot) {\n        var electionStatus = {};\n        snapshot.forEach(function (data) {\n          Object.assign(electionStatus, {\n            \"isEnabled\": data.val()\n          });\n        });\n\n        _this.setState({\n          electionStatus: electionStatus\n        });\n      });\n    };\n\n    _this.fetchRegisterButton = function () {\n      firebaseConf.database().ref('registerButton').on('value', function (snapshot) {\n        var registerStatus = {};\n        snapshot.forEach(function (data) {\n          Object.assign(registerStatus, {\n            \"isEnabled\": data.val()\n          });\n        });\n\n        _this.setState({\n          registerStatus: registerStatus\n        });\n      });\n    };\n\n    _this.fetchRegisterAspirantButton = function () {\n      firebaseConf.database().ref('registerAspirantButton').on('value', function (snapshot) {\n        var registerAspirantStatus = {};\n        snapshot.forEach(function (data) {\n          Object.assign(registerAspirantStatus, {\n            \"isEnabled\": data.val()\n          });\n        });\n\n        _this.setState({\n          registerAspirantStatus: registerAspirantStatus\n        });\n      });\n    };\n\n    _this.state = {\n      isLoading: false,\n      openDisapprovedModal: false,\n      electionStatus: {},\n      registerAspirantStatus: {},\n      registerStatus: {}\n    };\n    return _this;\n  }\n\n  _createClass(Logout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchElectionButton();\n      this.fetchRegisterAspirantButton();\n      this.fetchRegisterButton();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          electionStatus = _this$state.electionStatus,\n          registerStatus = _this$state.registerStatus,\n          registerAspirantStatus = _this$state.registerAspirantStatus;\n      console.log(electionStatus);\n      console.log(registerStatus);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Container, {\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Menu.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"blue\",\n        onClick: this.handleOpenDisapprovedModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Logout\")), React.createElement(Menu.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"blue\",\n        onClick: function onClick() {\n          return _this2.changePassword();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Change  password\")), React.createElement(Menu.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, electionStatus && electionStatus.isEnabled === true && React.createElement(Button, {\n        color: \"blue\",\n        onClick: this.handleDisableElection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Disable Election process\"), electionStatus && electionStatus.isEnabled === false && React.createElement(Button, {\n        color: \"red\",\n        onClick: this.handleEnableElection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Enable Election process\")), React.createElement(Menu.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, registerStatus && registerStatus.isEnabled === true && React.createElement(Button, {\n        color: \"blue\",\n        onClick: this.handleDisableRegister,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Disable Registration for voters\"), registerStatus && registerStatus.isEnabled === false && React.createElement(Button, {\n        color: \"red\",\n        onClick: this.handleEnableRegister,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Enable Registration for voters\")), React.createElement(Menu.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, registerAspirantStatus && registerAspirantStatus.isEnabled === true && React.createElement(Button, {\n        color: \"blue\",\n        onClick: this.handleDisableRegisterAspirant,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Disable Registration for aspirants\"), registerAspirantStatus && registerAspirantStatus.isEnabled === false && React.createElement(Button, {\n        color: \"red\",\n        onClick: this.handleEnableRegisterAspirant,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Enable Registration for aspirants\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        open: this.state.openDisapprovedModal,\n        onClose: this.handleCloseDisapprovedModal,\n        basic: true,\n        size: \"small\",\n        style: {\n          minHeight: '100vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Header, {\n        icon: \"sign-out\",\n        content: \"Logout Confirmation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Are you sure you want to Logout \", this.state.post)), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Button, {\n        basic: true,\n        color: \"red\",\n        inverted: true,\n        onClick: this.handleCloseDisapprovedModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), \" No\"), React.createElement(Button, {\n        color: \"green\",\n        onClick: this.handleSubmit,\n        loading: this.state.isLoadingisLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), \" Yes\")))));\n    }\n  }]);\n\n  return Logout;\n}(Component);\n\nexport default withRouter(Logout);","map":{"version":3,"sources":["C:\\Users\\Faizal\\Downloads\\e-voting\\src\\Components\\Settings.js"],"names":["React","Component","Menu","Button","Modal","Header","Icon","Container","Grid","Segment","withRouter","firebaseConf","Logout","handleSubmit","setState","isLoading","props","history","push","pathname","sessionStorage","removeItem","handleOpenDisapprovedModal","openDisapprovedModal","handleCloseDisapprovedModal","changePassword","handleDisableRegisterAspirant","database","ref","update","type","handleEnableRegisterAspirant","handleDisableElection","handleEnableElection","handleDisableRegister","handleEnableRegister","fetchElectionButton","on","snapshot","electionStatus","forEach","data","Object","assign","val","fetchRegisterButton","registerStatus","fetchRegisterAspirantButton","registerAspirantStatus","state","console","log","isEnabled","minHeight","post","isLoadingisLoading"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Menu, Button, Modal, Header, Icon,Container,Grid,Segment} from 'semantic-ui-react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport firebaseConf from './Firebase'\r\n\r\nclass Logout extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {isLoading: false, openDisapprovedModal: false,electionStatus:{},registerAspirantStatus:{},registerStatus:{}};\r\n  }\r\n  handleSubmit = () => {\r\n    this.setState({isLoading: true});\r\n    this.props.history.push({pathname: '/login-admin'});\r\n    this.setState({isLoading: false});\r\n    sessionStorage.removeItem('USERNAME')\r\n  };\r\n  handleOpenDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: true});\r\n  };\r\n\r\n  handleCloseDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: false});\r\n  };\r\n  changePassword = () => {\r\n    this.props.history.push({\r\n      pathname: '/change-password',\r\n    });\r\n  };\r\n  handleDisableRegisterAspirant=()=>{\r\n    firebaseConf.database().ref('registerAspirantButton').update({\r\n      type:false\r\n    })\r\n  }\r\n  handleEnableRegisterAspirant=()=>{\r\n    firebaseConf.database().ref('registerAspirantButton').update({\r\n      type:true\r\n    })\r\n  }\r\n\r\n  handleDisableElection=()=>{\r\n    firebaseConf.database().ref('election').update({\r\n      type:false\r\n    })\r\n  }\r\n  handleEnableElection=()=>{\r\n    firebaseConf.database().ref('election').update({\r\n      type:true\r\n    })\r\n  }\r\n  handleDisableRegister=()=>{\r\n    firebaseConf.database().ref('registerButton').update({\r\n      type:false\r\n    })\r\n  }\r\n  handleEnableRegister=()=>{\r\n    firebaseConf.database().ref('registerButton').update({\r\n      type:true\r\n    })\r\n  }\r\ncomponentDidMount(){\r\n  this.fetchElectionButton()\r\n  this.fetchRegisterAspirantButton()\r\n  this.fetchRegisterButton()\r\n}\r\nfetchElectionButton=()=>{\r\n  firebaseConf.database().ref('election').on('value',snapshot=>{\r\n    const electionStatus={}\r\n    snapshot.forEach(data=>{\r\n        Object.assign(electionStatus,{\"isEnabled\": data.val()})\r\n      })\r\n      this.setState({electionStatus})\r\n\r\n    })\r\n    \r\n  }\r\n  fetchRegisterButton=()=>{\r\n    firebaseConf.database().ref('registerButton').on('value',snapshot=>{\r\n      const registerStatus={}\r\n      snapshot.forEach(data=>{\r\n        Object.assign(registerStatus,{\"isEnabled\": data.val()})\r\n        \r\n        })\r\n       this.setState({registerStatus})\r\n      })\r\n      }\r\n\r\n\r\n    fetchRegisterAspirantButton=()=>{\r\n      firebaseConf.database().ref('registerAspirantButton').on('value',snapshot=>{\r\n        const registerAspirantStatus={}\r\n        snapshot.forEach(data=>{\r\n          Object.assign(registerAspirantStatus,{\"isEnabled\": data.val()})\r\n         \r\n         \r\n          })\r\n           this.setState({registerAspirantStatus})\r\n        })\r\n        \r\n      }\r\n\r\n\r\n  render() {\r\n    const {electionStatus,registerStatus,registerAspirantStatus}=this.state\r\n    console.log(electionStatus)\r\n    console.log(registerStatus)\r\n    return (\r\n      <div>\r\n        <Container centered>\r\n        <Menu>\r\n          <Menu.Item>\r\n                <Button color=\"blue\" onClick={this.handleOpenDisapprovedModal}>\r\n                  Logout\r\n                </Button>\r\n              </Menu.Item>\r\n              <Menu.Item>\r\n              <Button color=\"blue\" onClick={() => this.changePassword()}>\r\n              Change  password\r\n            </Button>\r\n              </Menu.Item>\r\n              <Menu.Item>\r\n              {(electionStatus&&electionStatus.isEnabled===true)&&(<Button  color=\"blue\" onClick={this.handleDisableElection}>\r\n              Disable Election process\r\n              </Button> )}\r\n              {(electionStatus&&electionStatus.isEnabled===false)&&(<Button  color=\"red\" onClick={this.handleEnableElection}>\r\n              Enable Election process\r\n              </Button>)}\r\n              </Menu.Item>\r\n              <Menu.Item>\r\n              {(registerStatus&&registerStatus.isEnabled===true)&&(<Button color=\"blue\" onClick={this.handleDisableRegister} >\r\n                  Disable Registration for voters\r\n                </Button>)}\r\n                {(registerStatus&&registerStatus.isEnabled===false)&&(<Button color=\"red\" onClick={this.handleEnableRegister} >\r\n                  Enable Registration for voters\r\n                </Button>)}\r\n              </Menu.Item>\r\n              <Menu.Item>\r\n              {(registerAspirantStatus&&registerAspirantStatus.isEnabled===true)&&(<Button color=\"blue\" onClick={this.handleDisableRegisterAspirant} >\r\n              Disable Registration for aspirants\r\n            </Button>)}\r\n            {(registerAspirantStatus&&registerAspirantStatus.isEnabled===false)&&(<Button color=\"red\" onClick={this.handleEnableRegisterAspirant} >\r\n              Enable Registration for aspirants\r\n            </Button>)}\r\n              </Menu.Item>\r\n              </Menu>\r\n</Container>\r\n\r\n\r\n\r\n        \r\n\r\n        <div>\r\n          <Modal\r\n            open={this.state.openDisapprovedModal}\r\n            onClose={this.handleCloseDisapprovedModal}\r\n            basic\r\n            size=\"small\"\r\n            style={{minHeight: '100vh'}}\r\n          >\r\n            <Header icon=\"sign-out\" content=\"Logout Confirmation\" />\r\n            <Modal.Content>\r\n              <p>Are you sure you want to Logout {this.state.post}</p>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button\r\n                basic\r\n                color=\"red\"\r\n                inverted\r\n                onClick={this.handleCloseDisapprovedModal}\r\n              >\r\n                <Icon name=\"remove\" /> No\r\n              </Button>\r\n              <Button\r\n                color=\"green\"\r\n                onClick={this.handleSubmit}\r\n                loading={this.state.isLoadingisLoading}\r\n              >\r\n                <Icon name=\"checkmark\" /> Yes\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Logout);\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}