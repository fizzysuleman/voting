{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\src\\\\Components\\\\AuthenticatedComponent.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport TopGrid from './TopGrid';\nimport Election from './Election';\nimport { Switch, Redirect } from 'react-router';\nimport Admin from './Admin';\nimport AppLayout from './AppLayout';\nimport Login from './Login';\nimport LandingPage from './LandingPage';\nimport ElectionLayout from './ElectionLayout';\nimport firebaseConf from './Firebase'; // import {history} from 'react-router-dom';\n\nfunction fetchElectionButton() {\n  firebaseConf.database().ref('election').on('value', function (snapshot) {\n    var electionStatus = {};\n    snapshot.forEach(function (data) {\n      Object.assign(electionStatus, {\n        \"isEnabled\": data.val()\n      });\n    });\n    return electionStatus;\n  });\n}\n\nvar AuthenticatedComponent = function AuthenticatedComponent(props) {\n  var adminKey = sessionStorage.getItem('USERNAME');\n  var voterKey = sessionStorage.getItem('VOTERID');\n  var x = fetchElectionButton();\n  console.log(x);\n\n  if (adminKey) {\n    return adminKey ? React.createElement(AppLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }) : React.createElement(Redirect, {\n      to: {\n        pathname: '/login-admin',\n        state: {\n          from: props.location\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    });\n  }\n\n  if (voterKey) {\n    return voterKey ? React.createElement(ElectionLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }) : React.createElement(Redirect, {\n      to: {\n        pathname: '/login',\n        state: {\n          from: props.location\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  }\n\n  if (!!voterKey === false || !!adminKey === false) {\n    return React.createElement(Redirect, {\n      to: {\n        pathname: '/home',\n        state: {\n          from: props.location\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    });\n  }\n};\n\nexport default AuthenticatedComponent;","map":{"version":3,"sources":["C:\\Users\\Faizal\\Downloads\\e-voting\\src\\Components\\AuthenticatedComponent.js"],"names":["React","Component","Route","TopGrid","Election","Switch","Redirect","Admin","AppLayout","Login","LandingPage","ElectionLayout","firebaseConf","fetchElectionButton","database","ref","on","snapshot","electionStatus","forEach","data","Object","assign","val","AuthenticatedComponent","props","adminKey","sessionStorage","getItem","voterKey","x","console","log","pathname","state","from","location"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,KAAR,QAAoB,kBAApB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAAQC,MAAR,EAAgBC,QAAhB,QAA+B,cAA/B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,YAAP,MAAyB,YAAzB,C,CAGA;;AACC,SAASC,mBAAT,GAA8B;AAC7BD,EAAAA,YAAY,CAACE,QAAb,GAAwBC,GAAxB,CAA4B,UAA5B,EAAwCC,EAAxC,CAA2C,OAA3C,EAAmD,UAAAC,QAAQ,EAAE;AAC3D,QAAMC,cAAc,GAAC,EAArB;AACAD,IAAAA,QAAQ,CAACE,OAAT,CAAiB,UAAAC,IAAI,EAAE;AACnBC,MAAAA,MAAM,CAACC,MAAP,CAAcJ,cAAd,EAA6B;AAAC,qBAAaE,IAAI,CAACG,GAAL;AAAd,OAA7B;AACD,KAFH;AAGE,WAAOL,cAAP;AAED,GAPH;AASC;;AAEH,IAAMM,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,KAAD,EAAW;AACxC,MAAIC,QAAQ,GAAGC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAf;AACA,MAAIC,QAAQ,GAAGF,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAf;AACA,MAAIE,CAAC,GAACjB,mBAAmB,EAAzB;AACAkB,EAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;;AAEA,MAAIJ,QAAJ,EAAa;AACX,WAAOA,QAAQ,GACb,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADa,GAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE;AAACO,QAAAA,QAAQ,EAAE,cAAX;AAA2BC,QAAAA,KAAK,EAAE;AAACC,UAAAA,IAAI,EAAEV,KAAK,CAACW;AAAb;AAAlC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF;AAKD;;AAEF,MAAIP,QAAJ,EAAa;AACV,WAAOA,QAAQ,GACb,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADa,GAGb,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE;AAACI,QAAAA,QAAQ,EAAE,QAAX;AAAqBC,QAAAA,KAAK,EAAE;AAACC,UAAAA,IAAI,EAAEV,KAAK,CAACW;AAAb;AAA5B,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF;AAKD;;AAED,MAAI,CAAC,CAACP,QAAF,KAAa,KAAb,IAAsB,CAAC,CAACH,QAAF,KAAa,KAAvC,EAA6C;AAC3C,WACE,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE;AAACO,QAAAA,QAAQ,EAAE,OAAX;AAAoBC,QAAAA,KAAK,EAAE;AAACC,UAAAA,IAAI,EAAEV,KAAK,CAACW;AAAb;AAA3B,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD;AAKF,CA/BD;;AAiCA,eAAeZ,sBAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport TopGrid from './TopGrid';\r\nimport Election from './Election';\r\nimport {Switch, Redirect} from 'react-router';\r\nimport Admin from './Admin';\r\nimport AppLayout from './AppLayout';\r\nimport Login from './Login';\r\nimport LandingPage from './LandingPage';\r\nimport ElectionLayout from './ElectionLayout';\r\nimport firebaseConf from './Firebase'\r\n\r\n\r\n// import {history} from 'react-router-dom';\r\n function fetchElectionButton(){\r\n  firebaseConf.database().ref('election').on('value',snapshot=>{\r\n    const electionStatus={}\r\n    snapshot.forEach(data=>{\r\n        Object.assign(electionStatus,{\"isEnabled\": data.val()})\r\n      })\r\n      return electionStatus\r\n\r\n    })\r\n    \r\n  }\r\n\r\nconst AuthenticatedComponent = (props) => {\r\n  let adminKey = sessionStorage.getItem('USERNAME');\r\n  let voterKey = sessionStorage.getItem('VOTERID');\r\n  let x=fetchElectionButton()\r\n  console.log(x)\r\n\r\n  if (adminKey){\r\n    return adminKey ? (\r\n      <AppLayout />\r\n    ) : (\r\n      <Redirect to={{pathname: '/login-admin', state: {from: props.location}}} />\r\n    );\r\n  }\r\n  \r\n if (voterKey){\r\n    return voterKey ? (\r\n      <ElectionLayout/>\r\n    ) : (\r\n      <Redirect to={{pathname: '/login', state: {from: props.location}}} />\r\n    );\r\n  }\r\n\r\n  if (!!voterKey===false || !!adminKey===false){\r\n    return (\r\n      <Redirect to={{pathname: '/home', state: {from: props.location}}} />\r\n    );\r\n  }\r\n  \r\n  \r\n  \r\n\r\n};\r\n\r\nexport default AuthenticatedComponent;\r\n"]},"metadata":{},"sourceType":"module"}