{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\raheem.azeezat\\\\Desktop\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\raheem.azeezat\\\\Desktop\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\raheem.azeezat\\\\Desktop\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\raheem.azeezat\\\\Desktop\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\raheem.azeezat\\\\Desktop\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\raheem.azeezat\\\\Desktop\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\raheem.azeezat\\\\Desktop\\\\e-voting\\\\src\\\\Components\\\\RegisterAspirants.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Input, Radio, Select, TextArea } from 'semantic-ui-react';\nimport firebaseConf from './Firebase';\nimport { Offline } from 'react-detect-offline';\nimport { withRouter } from 'react-router-dom';\nimport { database } from 'firebase';\n\nvar FormExampleFieldControl =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormExampleFieldControl, _Component);\n\n  function FormExampleFieldControl() {\n    var _this;\n\n    _classCallCheck(this, FormExampleFieldControl);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormExampleFieldControl).call(this));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleOptionSelect = function (e, _ref) {\n      var name = _ref.name,\n          value = _ref.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.setUrl = function (downloadURL) {\n      _this.setState({\n        url: downloadURL\n      });\n      /* store all of everything thats being submitted,\r\n       * We do this by calling the ref method and passing\r\n       * in the destination we'd like them to be stored\r\n       */\n      //get prefect name that corresponds to the selected prefect id\n\n\n      var prefect = _this.state.options.find(function (option) {\n        return option.key === _this.state.prefectId;\n      });\n\n      var item = {\n        firstName: _this.state.firstName,\n        lastName: _this.state.lastName,\n        prefectName: prefect.text,\n        prefectId: _this.state.prefectId,\n        reason: _this.state.reason,\n        section: _this.state.section,\n        todo: _this.state.todo,\n        imageUrl: _this.state.url,\n        schoolId: _this.state.schoolId,\n        votes: []\n      };\n      /**\r\n       * similar to the Array.push method,\r\n       * this sends a copy of our object so\r\n       * that it can be stored in Firebase.\r\n       */\n      //finding the one that is equal to the value in the text box\n\n      var filteredSchoolId = _this.state.fetchedSchoolId.find(function (id) {\n        return _this.state.schoolId === id.schoolId;\n      });\n\n      var disapprovedSchoolId = _this.state.disapprovedId.find(function (id) {\n        return _this.state.schoolId === id.disapprovedSchoolId;\n      }); // checking for used school id\n\n\n      var usedSchoolId = _this.state.aspirant.find(function (id) {\n        return _this.state.schoolId === id.schoolId;\n      });\n\n      var itemsRef = firebaseConf.database().ref(\"posts/\".concat(_this.state.prefectId, \"/aspirants\")); //if the schoolId typed in the checkbox is not equal to the schoolId registered \n\n      if (!filteredSchoolId) {\n        _this.showAlert('danger', 'The school Id was not registered with this school, Contact administrator for future explanation');\n\n        _this.setState({\n          isLoading: false\n        }); //else if the id typed has been used by another  aspirant\n\n      } else if (usedSchoolId || disapprovedSchoolId) {\n        _this.showAlert('danger', 'The school Id was registered by another user, Contact administrator if it was not you');\n\n        _this.setState({\n          isLoading: false\n        }); //if the two conditions do not apply the the information can be pushed to firebase\n\n      } else {\n        itemsRef.push(item).then(function () {\n          _this.showAlert('success', 'You have successfully filled the form');\n\n          _this.props.history.push({\n            pathname: '/successful-aspirants'\n          });\n        }).catch(function (message) {\n          _this.showAlert('danger', message);\n        });\n\n        _this.setState({\n          isLoading: false\n        }); // this.resetForm();\n\n      }\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        isLoading: true\n      }); //fetching the image selected by its ID\n\n\n      var myFile = document.getElementById('my-file-id').files[0];\n\n      if (myFile) {\n        var storageRef = firebaseConf.storage().ref('aspirantImages/' + myFile ? myFile.name : '');\n      }\n\n      if (myFile) {\n        storageRef.put(myFile).then(function (snapshot) {\n          return snapshot.ref.getDownloadURL(); // Will return a promise with the download link\n        }).then(function (downloadURL) {\n          _this.setState({\n            isLoading: false\n          });\n\n          return _this.setUrl({\n            downloadURL: downloadURL\n          });\n        }).catch(function (message) {\n          // Use to signal error if something goes wrong.\n          console.log(\"error response : \".concat(message));\n        });\n      } else {\n        var downloadURL = '';\n\n        _this.setUrl({\n          downloadURL: downloadURL\n        });\n      }\n    };\n\n    _this.state = {\n      firstName: '',\n      lastName: '',\n      prefectName: '',\n      prefectId: '',\n      schoolId: '',\n      section: '',\n      reason: '',\n      todo: '',\n      url: '',\n      alert: false,\n      alertData: {},\n      fetchedSchoolId: [],\n      disapprovedId: [],\n      aspirant: [],\n      postsData: [],\n      options: [{\n        text: '',\n        value: '',\n        key: ''\n      }],\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(FormExampleFieldControl, [{\n    key: \"showAlert\",\n    value: function showAlert(type, message) {\n      var _this2 = this;\n\n      this.setState({\n        alert: true,\n        alertData: {\n          type: type,\n          message: message\n        }\n      });\n      setTimeout(function () {\n        _this2.setState({\n          alert: false\n        });\n      }, 8000);\n    } // resetForm() {\n    //   this.refs.contactForm.reset();\n    // }\n\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this3 = this;\n\n      //fetching the posts\n      firebaseConf.database().ref('posts').orderByChild('post').on('value', function (snapshot) {\n        var options = [];\n        snapshot.forEach(function (data) {\n          var optionNew = {\n            text: data.val().post,\n            value: data.key,\n            key: data.key\n          };\n          options.push(optionNew);\n\n          _this3.setState({\n            options: options\n          });\n        });\n      });\n      firebaseConf.database().ref('disapprovedAspirants').on('value', function (snapshot) {\n        var disapprovedId = [];\n        snapshot.forEach(function (data) {\n          disapprovedId.push({\n            disapprovedSchoolId: data.val().schoolId\n          });\n\n          _this3.setState({\n            disapprovedId: disapprovedId\n          });\n        });\n      }); // fetching the schoolId\n\n      firebaseConf.database().ref('school').on('value', function (snapshot) {\n        var fetchedSchoolId = [];\n        snapshot.forEach(function (data) {\n          var fetchedSchoolIdNew = {\n            schoolId: data.val().schoolId\n          };\n          fetchedSchoolId.push(fetchedSchoolIdNew);\n\n          _this3.setState({\n            fetchedSchoolId: fetchedSchoolId\n          });\n        });\n      }); //fetching aspirants data to be used in finding if someone with the school id has been found\n\n      firebaseConf.database().ref('posts').orderByChild('post').on('value', function (snapshot) {\n        var postsData = [];\n        snapshot.forEach(function (data) {\n          postsData.push({\n            aspirants: Object.entries(data.val().aspirants ? data.val().aspirants : []).map(function (e) {\n              return Object.assign(e[1], {\n                aspirantKey: e[0]\n              });\n            })\n          });\n        }); //trying to get the items in the in aspirants \n\n        var newData = postsData.filter(function (item) {\n          return item.aspirants.length > 0;\n        });\n        var finalData = newData.map(function (item) {\n          return item.aspirants;\n        }); //joining all the arrays together\n\n        var finalFinalData = finalData.reduce(function (a, b) {\n          return a.concat(b);\n        }, []);\n\n        _this3.setState({\n          aspirant: finalFinalData\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          firstName = _this$state.firstName,\n          lastName = _this$state.lastName,\n          prefectId = _this$state.prefectId,\n          reason = _this$state.reason,\n          section = _this$state.section,\n          todo = _this$state.todo,\n          schoolId = _this$state.schoolId,\n          options = _this$state.options,\n          isLoading = _this$state.isLoading;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Register Aspirants\"), this.state.alert && React.createElement(\"div\", {\n        className: \"alert alert-\".concat(this.state.alertData.type),\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, this.state.alertData.message)), React.createElement(Form, {\n        ref: \"contactForm\",\n        onSubmit: this.handleSubmit,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        widths: \"equal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        control: Input,\n        label: \"First name\",\n        placeholder: \"First name\",\n        name: \"firstName\",\n        value: firstName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: Input,\n        label: \"Last name\",\n        placeholder: \"Last name\",\n        name: \"lastName\",\n        value: lastName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        widths: \"equal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        control: Select,\n        label: \"Post\",\n        options: options,\n        placeholder: \"Post\",\n        name: \"prefectId\",\n        onChange: this.handleOptionSelect,\n        value: prefectId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: Input,\n        label: \"School ID\",\n        placeholder: \"School ID\",\n        name: \"schoolId\",\n        value: schoolId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        inline: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, \"SS2\"), React.createElement(Form.Field, {\n        control: Radio,\n        label: \"A\",\n        value: \"A\",\n        checked: this.state.section === 'A',\n        name: \"section\",\n        onChange: this.handleOptionSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: Radio,\n        label: \"B\",\n        value: \"B\",\n        checked: this.state.section === 'B',\n        name: \"section\",\n        onChange: this.handleOptionSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: Radio,\n        label: \"C\",\n        value: \"C\",\n        checked: this.state.section === 'C',\n        name: \"section\",\n        onChange: this.handleOptionSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        control: TextArea,\n        label: \"Reason for aspiring  to become a Prefect\",\n        placeholder: \"Tell us  ...\",\n        name: \"reason\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: TextArea,\n        label: \"What would you contribute to the value of the school you become a prefect\",\n        placeholder: \"Tell us  ...\",\n        name: \"todo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }), React.createElement(Form.Group, {\n        widths: \"equal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"file\",\n        id: \"my-file-id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        control: Button,\n        type: \"submit\",\n        color: \"blue\",\n        disabled: !firstName || !lastName || // !prefect ||\n        !reason || !section || !todo || !schoolId,\n        loading: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"Submit\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }), React.createElement(Offline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(\"marquee\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, \"You are currently offline,Connect and contimue the process\")));\n    }\n  }]);\n\n  return FormExampleFieldControl;\n}(Component);\n\nexport default withRouter(FormExampleFieldControl);","map":{"version":3,"sources":["C:\\Users\\raheem.azeezat\\Desktop\\e-voting\\src\\Components\\RegisterAspirants.js"],"names":["React","Component","Button","Form","Input","Radio","Select","TextArea","firebaseConf","Offline","withRouter","database","FormExampleFieldControl","handleChange","e","setState","target","name","value","handleOptionSelect","setUrl","downloadURL","url","prefect","state","options","find","option","key","prefectId","item","firstName","lastName","prefectName","text","reason","section","todo","imageUrl","schoolId","votes","filteredSchoolId","fetchedSchoolId","id","disapprovedSchoolId","disapprovedId","usedSchoolId","aspirant","itemsRef","ref","showAlert","isLoading","push","then","props","history","pathname","catch","message","handleSubmit","preventDefault","myFile","document","getElementById","files","storageRef","storage","put","snapshot","getDownloadURL","console","log","alert","alertData","postsData","type","setTimeout","orderByChild","on","forEach","data","optionNew","val","post","fetchedSchoolIdNew","aspirants","Object","entries","map","assign","aspirantKey","newData","filter","length","finalData","finalFinalData","reduce","a","b","concat"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Form, Input, Radio, Select, TextArea} from 'semantic-ui-react';\r\n\r\nimport firebaseConf from './Firebase';\r\nimport {Offline} from 'react-detect-offline';\r\nimport {withRouter} from 'react-router-dom';\r\nimport { database } from 'firebase';\r\n\r\nclass FormExampleFieldControl extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      firstName: '',\r\n      lastName: '',\r\n      prefectName: '',\r\n      prefectId: '',\r\n      schoolId: '',\r\n      section: '',\r\n      reason: '',\r\n      todo: '',\r\n      url: '',\r\n      alert: false,\r\n      alertData: {},\r\n      fetchedSchoolId: [],\r\n      disapprovedId:[],\r\n      aspirant:[],\r\n      postsData:[],\r\n      options: [\r\n        {\r\n          text: '',\r\n          value: '',\r\n          key: '',\r\n        },\r\n      ],\r\n      isLoading: false,\r\n    };\r\n  }\r\n  showAlert(type, message) {\r\n    this.setState({\r\n      alert: true,\r\n      alertData: {type, message},\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({alert: false});\r\n    }, 8000);\r\n  }\r\n  // resetForm() {\r\n  //   this.refs.contactForm.reset();\r\n  // }\r\n\r\n  handleChange = e => {\r\n    this.setState({[e.target.name]: e.target.value});\r\n  };\r\n\r\n  handleOptionSelect = (e, {name, value}) => {\r\n    this.setState({[name]: value});\r\n  };\r\n  setUrl = downloadURL => {\r\n    this.setState({url: downloadURL});\r\n\r\n    /* store all of everything thats being submitted,\r\n     * We do this by calling the ref method and passing\r\n     * in the destination we'd like them to be stored\r\n     */\r\n\r\n    //get prefect name that corresponds to the selected prefect id\r\n    let prefect = this.state.options.find(option => {\r\n      return option.key === this.state.prefectId;\r\n    });\r\n    const item = {\r\n      firstName: this.state.firstName,\r\n      lastName: this.state.lastName,\r\n      prefectName: prefect.text,\r\n      prefectId: this.state.prefectId,\r\n      reason: this.state.reason,\r\n      section: this.state.section,\r\n      todo: this.state.todo,\r\n      imageUrl: this.state.url,\r\n      schoolId: this.state.schoolId,\r\n      votes: [],\r\n    };\r\n   \r\n    /**\r\n     * similar to the Array.push method,\r\n     * this sends a copy of our object so\r\n     * that it can be stored in Firebase.\r\n     */\r\n    //finding the one that is equal to the value in the text box\r\n    let filteredSchoolId = this.state.fetchedSchoolId.find(id => {\r\n      return this.state.schoolId === id.schoolId;\r\n    });\r\n    let disapprovedSchoolId=this.state.disapprovedId.find(id=>{\r\n      return this.state.schoolId===id.disapprovedSchoolId\r\n    })\r\n    \r\n    // checking for used school id\r\n    let usedSchoolId=this.state.aspirant.find(id=>{\r\n      return this.state.schoolId===id.schoolId\r\n    })\r\n    \r\n\r\n    const itemsRef = firebaseConf\r\n      .database()\r\n      .ref(`posts/${this.state.prefectId}/aspirants`);\r\n      //if the schoolId typed in the checkbox is not equal to the schoolId registered \r\n    if (!filteredSchoolId) {\r\n      this.showAlert(\r\n        'danger',\r\n        'The school Id was not registered with this school, Contact administrator for future explanation'\r\n      );\r\n      this.setState({isLoading: false});\r\n      //else if the id typed has been used by another  aspirant\r\n    } else if(usedSchoolId || disapprovedSchoolId) {\r\n      this.showAlert(\r\n        'danger',\r\n        'The school Id was registered by another user, Contact administrator if it was not you'\r\n      );\r\n      this.setState({isLoading: false});\r\n      //if the two conditions do not apply the the information can be pushed to firebase\r\n    }else{\r\n            itemsRef\r\n        .push(item)\r\n        .then(() => {\r\n          this.showAlert('success', 'You have successfully filled the form');\r\n          this.props.history.push({pathname: '/successful-aspirants'});\r\n        })\r\n        .catch(message => {\r\n          this.showAlert('danger', message);\r\n        });\r\n      this.setState({isLoading: false});\r\n      // this.resetForm();\r\n    }\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.setState({isLoading: true});\r\n//fetching the image selected by its ID\r\n    var myFile = document.getElementById('my-file-id').files[0];\r\n    if (myFile){\r\n    var storageRef = firebaseConf\r\n      .storage()\r\n      .ref('aspirantImages/' + myFile ? myFile.name : '')\r\n    }\r\nif(myFile){\r\n    storageRef\r\n      .put(myFile)\r\n      .then(snapshot => {\r\n        return snapshot.ref.getDownloadURL(); // Will return a promise with the download link\r\n      })\r\n      .then(downloadURL => {\r\n        this.setState({isLoading: false});\r\n        return this.setUrl({downloadURL});\r\n      })\r\n      .catch(message => {\r\n        // Use to signal error if something goes wrong.\r\n        console.log(`error response : ${message}`);\r\n      });\r\n    }else{\r\n      const downloadURL=''\r\n      this.setUrl({downloadURL})\r\n    }\r\n  };\r\n\r\n  componentWillMount() {\r\n    //fetching the posts\r\n    firebaseConf\r\n      .database()\r\n      .ref('posts')\r\n      .orderByChild('post')\r\n      .on('value', snapshot => {\r\n        const options = [];\r\n        snapshot.forEach(data => {\r\n          const optionNew = {\r\n            text: data.val().post,\r\n            value: data.key,\r\n            key: data.key,\r\n          };\r\n\r\n          options.push(optionNew);\r\n          this.setState({options: options});\r\n        });\r\n      });\r\n      firebaseConf\r\n      .database()\r\n      .ref('disapprovedAspirants')\r\n      \r\n      .on('value', snapshot => {\r\n        const disapprovedId = [];\r\n        snapshot.forEach(data => {\r\n          disapprovedId.push({\r\n            disapprovedSchoolId:data.val().schoolId\r\n          });\r\n          this.setState({disapprovedId})\r\n          });\r\n         \r\n        })\r\n    // fetching the schoolId\r\n    firebaseConf\r\n      .database()\r\n      .ref('school')\r\n      .on('value', snapshot => {\r\n        const fetchedSchoolId = [];\r\n        snapshot.forEach(data => {\r\n          const fetchedSchoolIdNew = {\r\n            schoolId: data.val().schoolId,\r\n          };\r\n          fetchedSchoolId.push(fetchedSchoolIdNew);\r\n          this.setState({fetchedSchoolId});\r\n        });\r\n      });\r\n\r\n    //fetching aspirants data to be used in finding if someone with the school id has been found\r\n    firebaseConf\r\n      .database()\r\n      .ref('posts')\r\n      .orderByChild('post')\r\n      .on('value', snapshot => {\r\n        const postsData = [];\r\n        snapshot.forEach(data => {\r\n          postsData.push({\r\n            aspirants: Object.entries(\r\n              data.val().aspirants ? data.val().aspirants : []\r\n            ).map(e => Object.assign(e[1], {aspirantKey: e[0]})),\r\n          });\r\n        });\r\n        //trying to get the items in the in aspirants \r\n        let newData = postsData.filter(item => {\r\n          return item.aspirants.length > 0;\r\n        });\r\n\r\n        let finalData = newData.map(item => {\r\n          return item.aspirants;\r\n        });\r\n        //joining all the arrays together\r\n        let finalFinalData = finalData.reduce((a, b) => {\r\n          return a.concat(b);\r\n        }, []);\r\n\r\n        this.setState({aspirant: finalFinalData});\r\n        \r\n      });\r\n\r\n  }\r\n  render() {\r\n    const {\r\n      firstName,\r\n      lastName,\r\n      prefectId,\r\n      reason,\r\n      section,\r\n      todo,\r\n      schoolId,\r\n      options,\r\n      isLoading,\r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Register Aspirants</h1>\r\n        {this.state.alert && (\r\n          <div\r\n            className={`alert alert-${this.state.alertData.type}`}\r\n            role=\"alert\"\r\n          >\r\n            <div className=\"container\">{this.state.alertData.message}</div>\r\n          </div>\r\n        )}\r\n        <Form\r\n          ref=\"contactForm\"\r\n          onSubmit={this.handleSubmit}\r\n          onChange={this.handleChange}\r\n        >\r\n          <Form.Group widths=\"equal\">\r\n            <Form.Field\r\n              control={Input}\r\n              label=\"First name\"\r\n              placeholder=\"First name\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n            />\r\n            <Form.Field\r\n              control={Input}\r\n              label=\"Last name\"\r\n              placeholder=\"Last name\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n            />\r\n            {/* <img src={this.state.url?this.state.url.downloadURL:\"\"}/> */}\r\n          </Form.Group>\r\n          <Form.Group widths=\"equal\">\r\n            <Form.Field\r\n              control={Select}\r\n              label=\"Post\"\r\n              options={options}\r\n              placeholder=\"Post\"\r\n              name=\"prefectId\"\r\n              onChange={this.handleOptionSelect}\r\n              value={prefectId}\r\n            />\r\n            <Form.Field\r\n              control={Input}\r\n              label=\"School ID\"\r\n              placeholder=\"School ID\"\r\n              name=\"schoolId\"\r\n              value={schoolId}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group inline>\r\n            <label>SS2</label>\r\n            <Form.Field\r\n              control={Radio}\r\n              label=\"A\"\r\n              value=\"A\"\r\n              checked={this.state.section === 'A'}\r\n              name=\"section\"\r\n              onChange={this.handleOptionSelect}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label=\"B\"\r\n              value=\"B\"\r\n              checked={this.state.section === 'B'}\r\n              name=\"section\"\r\n              onChange={this.handleOptionSelect}\r\n            />\r\n            <Form.Field\r\n              control={Radio}\r\n              label=\"C\"\r\n              value=\"C\"\r\n              checked={this.state.section === 'C'}\r\n              name=\"section\"\r\n              onChange={this.handleOptionSelect}\r\n            />\r\n          </Form.Group>\r\n          <Form.Field\r\n            control={TextArea}\r\n            label=\"Reason for aspiring  to become a Prefect\"\r\n            placeholder=\"Tell us  ...\"\r\n            name=\"reason\"\r\n          />\r\n          <Form.Field\r\n            control={TextArea}\r\n            label=\"What would you contribute to the value of the school you become a prefect\"\r\n            placeholder=\"Tell us  ...\"\r\n            name=\"todo\"\r\n          />\r\n          <Form.Group widths=\"equal\">\r\n            <Input type=\"file\" id=\"my-file-id\" />\r\n          </Form.Group>\r\n          <br />\r\n          <br />\r\n          <br />\r\n\r\n          <Form.Field\r\n            control={Button}\r\n            type=\"submit\"\r\n            color=\"blue\"\r\n            disabled={\r\n              !firstName ||\r\n              !lastName ||\r\n              // !prefect ||\r\n              !reason ||\r\n              !section ||\r\n              !todo ||\r\n              !schoolId\r\n            }\r\n            loading={isLoading}\r\n          >\r\n            Submit\r\n          </Form.Field>\r\n        </Form>\r\n        <div />\r\n        <Offline>\r\n          <marquee>\r\n            You are currently offline,Connect and contimue the process\r\n          </marquee>\r\n        </Offline>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(FormExampleFieldControl);\r\n"]},"metadata":{},"sourceType":"module"}