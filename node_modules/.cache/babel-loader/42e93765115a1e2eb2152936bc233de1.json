{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Faizal\\\\Downloads\\\\e-voting\\\\src\\\\Components\\\\Applicants.js\";\nimport React, { Component } from 'react';\nimport { Table, Header, Image, Button, Icon, Modal, Form, TextArea, Popup } from 'semantic-ui-react';\nimport { withRouter } from 'react-router-dom';\nimport firebaseConf from './Firebase';\nimport Segment from 'semantic-ui-react/dist/commonjs/elements/Segment/Segment';\n\nvar TableExampleSelectableInvertedRow =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TableExampleSelectableInvertedRow, _Component);\n\n  function TableExampleSelectableInvertedRow(props) {\n    var _this;\n\n    _classCallCheck(this, TableExampleSelectableInvertedRow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TableExampleSelectableInvertedRow).call(this, props));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.openProfile = function (id, aspirantKey, lastName, firstName, prefectName, section, schoolId, reason, todo, imageUrl) {\n      _this.setState({\n        userId: id,\n        aKey: aspirantKey,\n        lastName: lastName,\n        firstName: firstName,\n        prefectName: prefectName,\n        section: section,\n        schoolId: schoolId,\n        reason: reason,\n        todo: todo,\n        imageUrl: imageUrl\n      });\n\n      _this.handleOpen();\n    };\n\n    _this.handleOpen = function () {\n      return _this.setState({\n        modalOpen: true\n      });\n    };\n\n    _this.handleClose = function () {\n      return _this.setState({\n        modalOpen: false\n      });\n    };\n\n    _this.openDisapprove = function (id, aspirantKey, lastName, firstName, prefectName, section, schoolId, reason, todo, imageUrl) {\n      _this.setState({\n        userId: id,\n        aKey: aspirantKey,\n        lastName: lastName,\n        firstName: firstName,\n        prefectName: prefectName,\n        section: section,\n        schoolId: schoolId,\n        reason: reason,\n        todo: todo,\n        imageUrl: imageUrl\n      });\n\n      _this.handleOpenDisapprovedModal();\n    };\n\n    _this.removeItem = function (userId, aKey, lastName, firstName, prefectName, section, schoolId, reason, todo, imageUrl) {\n      _this.setState({\n        isLoading: true\n      });\n\n      console.log(aKey);\n      var disapproveRef = firebaseConf.database().ref(\"disapprovedAspirants\");\n      disapproveRef.child(\"\".concat(aKey)).set({\n        firstName: firstName,\n        lastName: lastName,\n        prefectName: prefectName,\n        prefectId: userId,\n        reason: reason,\n        section: section,\n        todo: todo,\n        imageUrl: imageUrl,\n        schoolId: schoolId,\n        reasonDisapproval: _this.state.reasonDisapproval\n      }).then(function () {\n        var itemRef = firebaseConf.database().ref(\"/posts/\".concat(userId, \"/aspirants/\").concat(aKey));\n        itemRef.remove().then(function () {\n          _this.setState({\n            isLoading: false\n          });\n\n          _this.handleCloseDisapprovedModal();\n\n          _this.setState({\n            reasonDisapproval: ''\n          });\n        });\n      });\n    };\n\n    _this.handleOpenDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: true\n      });\n    };\n\n    _this.handleCloseDisapprovedModal = function () {\n      _this.setState({\n        openDisapprovedModal: false\n      });\n    };\n\n    _this.changePost = function (post, lastName, firstName, id, aspirantKey, section, reason, todo, imageUrl) {\n      _this.props.history.push({\n        pathname: '/change',\n        state: {\n          post: post,\n          lastName: lastName,\n          firstName: firstName,\n          id: id,\n          aspirantKey: aspirantKey,\n          section: section,\n          reason: reason,\n          todo: todo,\n          imageUrl: imageUrl\n        }\n      });\n    };\n\n    _this.fetchAspirantsdata = function () {\n      firebaseConf.database().ref('posts').orderByChild('post').on('value', function (snapshot) {\n        var postsData = [];\n        snapshot.forEach(function (data) {\n          postsData.push({\n            aspirants: Object.entries(data.val().aspirants ? data.val().aspirants : []).map(function (e) {\n              return Object.assign(e[1], {\n                aspirantKey: e[0]\n              });\n            })\n          });\n        });\n\n        _this.setState({\n          postsData: postsData\n        }); //trying to get the items in the in aspirants\n\n\n        var newData = postsData.filter(function (item) {\n          return item.aspirants.length > 0;\n        });\n        var finalData = newData.map(function (item) {\n          return item.aspirants;\n        }); //joining all the arrays together\n\n        var finalFinalData = finalData.reduce(function (a, b) {\n          return a.concat(b);\n        }, []);\n\n        _this.setState({\n          aspirant: finalFinalData\n        });\n\n        console.log(_this.state.aspirant);\n      });\n    };\n\n    _this.state = {\n      postsData: [],\n      isLoading: false,\n      openDisapprovedModal: false,\n      aKey: '',\n      userId: '',\n      firstName: '',\n      lastName: '',\n      prefectName: '',\n      reasonDisapproval: '',\n      section: '',\n      schoolId: '',\n      reson: '',\n      todo: '',\n      imageUrl: '',\n      basic: true,\n      buttonContent: 'Approved',\n      aspirant: [],\n      modalOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(TableExampleSelectableInvertedRow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchAspirantsdata();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          postsData = _this$state.postsData,\n          isLoading = _this$state.isLoading,\n          openDisapprovedModal = _this$state.openDisapprovedModal,\n          reasonDisapproval = _this$state.reasonDisapproval,\n          aspirant = _this$state.aspirant,\n          userId = _this$state.userId,\n          aKey = _this$state.aKey,\n          firstName = _this$state.firstName,\n          lastName = _this$state.lastName,\n          schoolId = _this$state.schoolId,\n          section = _this$state.section,\n          reason = _this$state.reason,\n          imageUrl = _this$state.imageUrl,\n          prefectId = _this$state.prefectId,\n          prefectName = _this$state.prefectName,\n          todo = _this$state.todo;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(Table, {\n        celled: true,\n        inverted: true,\n        selectable: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Fullname\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Post\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Class(SS2)\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"School ID\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Reason want to become a Prefect\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"What would do if put in that post\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Status\"))), React.createElement(Table.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, aspirant.map(function (item, index) {\n        return React.createElement(Table.Row, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(Header, {\n          as: \"h4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(Image, {\n          src: item.imageUrl.downloadURL ? item.imageUrl : '',\n          rounded: true,\n          size: \"mini\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }), React.createElement(Header.Content, {\n          style: {\n            color: 'white'\n          },\n          onClick: function onClick() {\n            return _this2.openProfile(item.prefectId, item.aspirantKey, item.lastName, item.firstName, item.prefectName, item.section, item.schoolId, item.reason, item.todo, item.imageUrl);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, item.lastName + ' ' + item.firstName))), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, item.prefectName), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, item.section), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, item.schoolId), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        }, item.reason), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, item.todo), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, React.createElement(Button, {\n          basic: true,\n          color: \"red\",\n          onClick: function onClick() {\n            return _this2.openDisapprove(item.prefectId, item.aspirantKey, item.lastName, item.firstName, item.prefectName, item.section, item.schoolId, item.reason, item.todo, item.imageUrl);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, \"Disapprove\"), React.createElement(Button, {\n          basic: true,\n          color: \"yellow\",\n          onClick: function onClick() {\n            return _this2.changePost(item.prefectName, item.lastName, item.firstName, item.prefectId, item.aspirantKey, item.section, item.reason, item.todo, item.imageUrl.downloadURL);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, \"Change Post\"), React.createElement(Popup, {\n          trigger: React.createElement(Button, {\n            primary: true,\n            icon: \"eye\",\n            onClick: function onClick() {\n              return _this2.openProfile(item.prefectId, item.aspirantKey, item.lastName, item.firstName, item.prefectName, item.section, item.schoolId, item.reason, item.todo, item.imageUrl);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 300\n            },\n            __self: this\n          }),\n          content: \"View details\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        })));\n      }))), React.createElement(Image, {\n        src: this.state.img,\n        rounded: true,\n        size: \"mini\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        open: openDisapprovedModal,\n        onClose: this.handleCloseDisapprovedModal,\n        basic: true,\n        size: \"small\",\n        style: {\n          minHeight: '100vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(Header, {\n        icon: \"user delete\",\n        content: \"Removal Confirmation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Are you sure you want to remove\", ' ', this.state.lastName + ' ' + this.state.firstName), React.createElement(Segment, {\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, ' ', React.createElement(Form.Field, {\n        onChange: this.handleChange,\n        control: TextArea,\n        label: \"Reason for disapproval\",\n        placeholder: \"What is the reason for wanting to the disapprove this aspirant\",\n        name: \"reasonDisapproval\",\n        value: reasonDisapproval,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      })))), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, React.createElement(Button, {\n        basic: true,\n        color: \"red\",\n        inverted: true,\n        onClick: this.handleCloseDisapprovedModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }), \" No\"), React.createElement(Button, {\n        disabled: !reasonDisapproval,\n        color: \"green\",\n        onClick: function onClick() {\n          return _this2.removeItem(userId, aKey, lastName, firstName, prefectName, section, schoolId ? schoolId : '', reason, todo, imageUrl);\n        },\n        loading: isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }), \" Yes\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        open: this.state.modalOpen,\n        onClose: this.handleClose,\n        basic: true,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, this.state.lastName + ' ' + this.state.firstName), React.createElement(Modal.Content, {\n        image: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, React.createElement(Image, {\n        wrapped: true,\n        size: \"medium\",\n        src: this.state.imageUrl.downloadURL,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }), React.createElement(Modal.Description, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, React.createElement(Header, {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, \"SchoolID: \", this.state.schoolId), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, \"Reason for applying to become a prefect:\"), '   ' + this.state.reason), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, \"What would you do if you get there:\"), '   ' + this.state.todo), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, \"Class:\"), \" SS2\", '   ' + this.state.section))), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"green\",\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"checkmark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }), \" Got it\"))), \")\"));\n    }\n  }]);\n\n  return TableExampleSelectableInvertedRow;\n}(Component);\n\nexport default withRouter(TableExampleSelectableInvertedRow);","map":{"version":3,"sources":["C:\\Users\\Faizal\\Downloads\\e-voting\\src\\Components\\Applicants.js"],"names":["React","Component","Table","Header","Image","Button","Icon","Modal","Form","TextArea","Popup","withRouter","firebaseConf","Segment","TableExampleSelectableInvertedRow","props","handleChange","e","setState","target","name","value","openProfile","id","aspirantKey","lastName","firstName","prefectName","section","schoolId","reason","todo","imageUrl","userId","aKey","handleOpen","modalOpen","handleClose","openDisapprove","handleOpenDisapprovedModal","removeItem","isLoading","console","log","disapproveRef","database","ref","child","set","prefectId","reasonDisapproval","state","then","itemRef","remove","handleCloseDisapprovedModal","openDisapprovedModal","changePost","post","history","push","pathname","fetchAspirantsdata","orderByChild","on","snapshot","postsData","forEach","data","aspirants","Object","entries","val","map","assign","newData","filter","item","length","finalData","finalFinalData","reduce","a","b","concat","aspirant","reson","basic","buttonContent","index","downloadURL","color","img","minHeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {\r\n  Table,\r\n  Header,\r\n  Image,\r\n  Button,\r\n  Icon,\r\n  Modal,\r\n  Form,\r\n  TextArea,\r\n  Popup\r\n} from 'semantic-ui-react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport firebaseConf from './Firebase';\r\nimport Segment from 'semantic-ui-react/dist/commonjs/elements/Segment/Segment';\r\n\r\nclass TableExampleSelectableInvertedRow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      postsData: [],\r\n      isLoading: false,\r\n      openDisapprovedModal: false,\r\n      aKey: '',\r\n      userId: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      prefectName: '',\r\n      reasonDisapproval: '',\r\n      section: '',\r\n      schoolId: '',\r\n      reson: '',\r\n      todo: '',\r\n      imageUrl: '',\r\n      basic: true,\r\n      buttonContent: 'Approved',\r\n      aspirant: [],\r\n      modalOpen: false,\r\n    };\r\n  }\r\n  handleChange = e => {\r\n    this.setState({[e.target.name]: e.target.value});\r\n  };\r\n\r\n  openProfile = (id,aspirantKey,lastName,firstName,prefectName,section,schoolId,reason,todo,imageUrl) => {\r\n    this.setState({ userId: id,aKey: aspirantKey,lastName,firstName,prefectName,section,schoolId,reason,todo,imageUrl,})\r\n    this.handleOpen()\r\n  };\r\n  handleOpen = () => this.setState({modalOpen: true});\r\n\r\n  handleClose = () => this.setState({modalOpen: false});\r\n\r\n  openDisapprove = (id,aspirantKey,lastName,firstName,prefectName,section,schoolId,reason,todo,imageUrl ) => {\r\n    this.setState({\r\n      userId: id,\r\n      aKey: aspirantKey,\r\n      lastName,\r\n      firstName,\r\n      prefectName,\r\n      section,\r\n      schoolId,\r\n      reason,\r\n      todo,\r\n      imageUrl,\r\n    });\r\n\r\n    this.handleOpenDisapprovedModal();\r\n  };\r\n\r\n  removeItem = (\r\n    userId,\r\n    aKey,\r\n    lastName,\r\n    firstName,\r\n    prefectName,\r\n    section,\r\n    schoolId,\r\n    reason,\r\n    todo,\r\n    imageUrl\r\n  ) => {\r\n    this.setState({isLoading: true});\r\n    console.log(aKey);\r\n    const disapproveRef = firebaseConf.database().ref(`disapprovedAspirants`);\r\n\r\n    disapproveRef\r\n      .child(`${aKey}`)\r\n      .set({\r\n        firstName: firstName,\r\n        lastName: lastName,\r\n        prefectName: prefectName,\r\n        prefectId: userId,\r\n        reason: reason,\r\n        section: section,\r\n        todo: todo,\r\n        imageUrl: imageUrl,\r\n        schoolId: schoolId,\r\n        reasonDisapproval: this.state.reasonDisapproval,\r\n      })\r\n\r\n      .then(() => {\r\n        const itemRef = firebaseConf\r\n          .database()\r\n          .ref(`/posts/${userId}/aspirants/${aKey}`);\r\n        itemRef.remove().then(() => {\r\n          this.setState({isLoading: false});\r\n          this.handleCloseDisapprovedModal();\r\n          this.setState({reasonDisapproval: ''});\r\n        });\r\n      });\r\n  };\r\n\r\n  handleOpenDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: true});\r\n  };\r\n\r\n  handleCloseDisapprovedModal = () => {\r\n    this.setState({openDisapprovedModal: false});\r\n  };\r\n\r\n  changePost = (\r\n    post,\r\n    lastName,\r\n    firstName,\r\n    id,\r\n    aspirantKey,\r\n    section,\r\n    reason,\r\n    todo,\r\n    imageUrl\r\n  ) => {\r\n    this.props.history.push({\r\n      pathname: '/change',\r\n      state: {\r\n        post,\r\n        lastName,\r\n        firstName,\r\n        id,\r\n        aspirantKey,\r\n        section,\r\n        reason,\r\n        todo,\r\n        imageUrl,\r\n      },\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchAspirantsdata();\r\n  }\r\n\r\n  fetchAspirantsdata = () => {\r\n    firebaseConf\r\n      .database()\r\n      .ref('posts')\r\n      .orderByChild('post')\r\n      .on('value', snapshot => {\r\n        const postsData = [];\r\n        snapshot.forEach(data => {\r\n          postsData.push({\r\n            aspirants: Object.entries(\r\n              data.val().aspirants ? data.val().aspirants : []\r\n            ).map(e => Object.assign(e[1], {aspirantKey: e[0]})),\r\n          });\r\n        });\r\n\r\n        this.setState({postsData: postsData});\r\n        //trying to get the items in the in aspirants\r\n        let newData = postsData.filter(item => {\r\n          return item.aspirants.length > 0;\r\n        });\r\n\r\n        let finalData = newData.map(item => {\r\n          return item.aspirants;\r\n        });\r\n        //joining all the arrays together\r\n        let finalFinalData = finalData.reduce((a, b) => {\r\n          return a.concat(b);\r\n        }, []);\r\n\r\n        this.setState({aspirant: finalFinalData});\r\n        console.log(this.state.aspirant);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      postsData,\r\n      isLoading,\r\n      openDisapprovedModal,\r\n      reasonDisapproval,\r\n      aspirant,\r\n      userId,\r\n      aKey,\r\n      firstName,\r\n      lastName,\r\n      schoolId,\r\n      section,\r\n      reason,\r\n      imageUrl,\r\n      prefectId,\r\n      prefectName,\r\n      todo,\r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        <Table celled inverted selectable>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell>Fullname</Table.HeaderCell>\r\n              <Table.HeaderCell>Post</Table.HeaderCell>\r\n              <Table.HeaderCell>Class(SS2)</Table.HeaderCell>\r\n              <Table.HeaderCell>School ID</Table.HeaderCell>\r\n              <Table.HeaderCell>\r\n                Reason want to become a Prefect\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell>\r\n                What would do if put in that post\r\n              </Table.HeaderCell>\r\n              <Table.HeaderCell>Status</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header>\r\n          <Table.Body>\r\n            {aspirant.map((item, index) => (\r\n              <Table.Row key={index}>\r\n                <Table.Cell>\r\n                  <Header as=\"h4\">\r\n                    <Image\r\n                      src={item.imageUrl.downloadURL ? item.imageUrl : ''}\r\n                      rounded\r\n                      size=\"mini\"\r\n                    />\r\n                    <Header.Content\r\n                      style={{color: 'white',}}\r\n\r\n                      onClick={() =>\r\n                        this.openProfile(\r\n                          item.prefectId,\r\n                          item.aspirantKey,\r\n                          item.lastName,\r\n                          item.firstName,\r\n                          item.prefectName,\r\n                          item.section,\r\n                          item.schoolId,\r\n                          item.reason,\r\n                          item.todo,\r\n                          item.imageUrl\r\n                        )\r\n                      }\r\n                    >\r\n                      {item.lastName + ' ' + item.firstName}\r\n                    </Header.Content>\r\n                  </Header>\r\n                </Table.Cell>\r\n                <Table.Cell>{item.prefectName}</Table.Cell>\r\n                <Table.Cell>{item.section}</Table.Cell>\r\n                <Table.Cell>{item.schoolId}</Table.Cell>\r\n                <Table.Cell>{item.reason}</Table.Cell>\r\n                <Table.Cell>{item.todo}</Table.Cell>\r\n                <Table.Cell>\r\n                  <Button\r\n                    basic\r\n                    color=\"red\"\r\n                    onClick={() =>\r\n                      this.openDisapprove(\r\n                        item.prefectId,\r\n                        item.aspirantKey,\r\n                        item.lastName,\r\n                        item.firstName,\r\n                        item.prefectName,\r\n                        item.section,\r\n                        item.schoolId,\r\n                        item.reason,\r\n                        item.todo,\r\n                        item.imageUrl\r\n                      )\r\n                    }\r\n                  >\r\n                    Disapprove\r\n                  </Button>\r\n                  <Button\r\n                    basic\r\n                    color=\"yellow\"\r\n                    onClick={() =>\r\n                      this.changePost(\r\n                        item.prefectName,\r\n                        item.lastName,\r\n                        item.firstName,\r\n                        item.prefectId,\r\n                        item.aspirantKey,\r\n                        item.section,\r\n                        item.reason,\r\n                        item.todo,\r\n                        item.imageUrl.downloadURL\r\n                      )\r\n                    }\r\n                  >\r\n                    Change Post\r\n                  </Button>\r\n                  <Popup trigger={<Button primary icon='eye'onClick={() =>\r\n                        this.openProfile(\r\n                          item.prefectId,\r\n                          item.aspirantKey,\r\n                          item.lastName,\r\n                          item.firstName,\r\n                          item.prefectName,\r\n                          item.section,\r\n                          item.schoolId,\r\n                          item.reason,\r\n                          item.todo,\r\n                          item.imageUrl\r\n                        )\r\n                      } />} content='View details' />\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n          </Table.Body>\r\n        </Table>\r\n        <Image src={this.state.img} rounded size=\"mini\" />\r\n        {/* .............................................................................................................................................. */}\r\n        {/* .............................................................................................................................................. */}\r\n        {/* .............................................................................................................................................. */}\r\n\r\n        <div>\r\n          <Modal\r\n            open={openDisapprovedModal}\r\n            onClose={this.handleCloseDisapprovedModal}\r\n            basic\r\n            size=\"small\"\r\n            style={{minHeight: '100vh'}}\r\n          >\r\n            <Header icon=\"user delete\" content=\"Removal Confirmation\" />\r\n            <Modal.Content>\r\n              <p>\r\n                Are you sure you want to remove{' '}\r\n                {this.state.lastName + ' ' + this.state.firstName}\r\n              </p>\r\n              <Segment inverted>\r\n                <Form>\r\n                  {' '}\r\n                  <Form.Field\r\n                    onChange={this.handleChange}\r\n                    control={TextArea}\r\n                    label=\"Reason for disapproval\"\r\n                    placeholder=\"What is the reason for wanting to the disapprove this aspirant\"\r\n                    name=\"reasonDisapproval\"\r\n                    value={reasonDisapproval}\r\n                  />\r\n                </Form>\r\n              </Segment>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button\r\n                basic\r\n                color=\"red\"\r\n                inverted\r\n                onClick={this.handleCloseDisapprovedModal}\r\n              >\r\n                <Icon name=\"remove\" /> No\r\n              </Button>\r\n              <Button\r\n                disabled={!reasonDisapproval}\r\n                color=\"green\"\r\n                onClick={() =>\r\n                  this.removeItem(\r\n                    userId,\r\n                    aKey,\r\n                    lastName,\r\n                    firstName,\r\n                    prefectName,\r\n                    section,\r\n                    schoolId ? schoolId : '',\r\n                    reason,\r\n                    todo,\r\n                    imageUrl\r\n                  )\r\n                }\r\n                loading={isLoading}\r\n              >\r\n                <Icon name=\"checkmark\" /> Yes\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n        </div>\r\n        <div>\r\n          <Modal\r\n            open={this.state.modalOpen}\r\n            onClose={this.handleClose}\r\n            basic\r\n            size=\"small\"\r\n          >\r\n            <Modal.Header>{this.state.lastName+' '+this.state.firstName}</Modal.Header>\r\n            <Modal.Content image>\r\n              <Image\r\n                wrapped\r\n                size=\"medium\"\r\n                src={this.state.imageUrl.downloadURL}\r\n              />\r\n              <Modal.Description>\r\n                <Header style={{color:'white'}}>SchoolID: {this.state.schoolId}</Header>\r\n                <p>\r\n                 <b>Reason for applying to become a prefect:</b>{'   '+this.state.reason}\r\n                </p>\r\n                <p><b>What would you do if you get there:</b>{'   '+this.state.todo}</p>\r\n                <p><b>Class:</b> SS2{'   '+this.state.section}</p>\r\n              </Modal.Description>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color=\"green\" onClick={this.handleClose} >\r\n                <Icon name=\"checkmark\" /> Got it\r\n              </Button>\r\n            </Modal.Actions>\r\n          </Modal>\r\n          )\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(TableExampleSelectableInvertedRow);\r\n"]},"metadata":{},"sourceType":"module"}