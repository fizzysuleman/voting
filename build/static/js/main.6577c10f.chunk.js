(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{253:function(e,t,a){e.exports=a.p+"static/media/applied.35684a99.gif"},256:function(e,t,a){e.exports=a.p+"static/media/successful.e0805164.gif"},275:function(e,t,a){e.exports=a(528)},280:function(e,t,a){},407:function(e,t,a){},528:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(77),r=a.n(o),s=(a(280),a(282),a(284),a(286),a(288),a(15)),i=a(16),c=a(18),u=a(17),d=a(19),m=a(31),p=a(550),h=a(544),f=a(545),v=a(557),E=a(21),g=a(151),b=a.n(g).a.initializeApp({apiKey:"AIzaSyDQWMc7tn7Gjldjhr1LYfCYn6a-8vAGW_E",authDomain:"e-voting-2f5a4.firebaseapp.com",databaseURL:"https://e-voting-2f5a4.firebaseio.com",projectId:"e-voting-2f5a4",storageBucket:"e-voting-2f5a4.appspot.com",messagingSenderId:"57011686457"}),y=a(37),C=a(243),S=[{key:"1",text:"JSS1/YEAR 7",value:"JSS1/YEAR 7"},{key:"2",text:"JSS2/YEAR 8",value:"JSS2/YEAR 8"},{key:"3",text:"JSS3/YEAR 9",value:"JSS3/YEAR 9"},{key:"4",text:"SS1/YEAR 10",value:"SS1/YEAR 10"},{key:"5",text:"SS2/FORM 11",value:"SS2/FORM 11"},{key:"6",text:"SS3/FORM 12",value:"SS3/FORM 12"},{key:"TS",text:"TEACHING STAFF",value:"TEACHING STAFF"},{key:"NTS",text:"NON-TEACHING STAFF",value:"NON-TEACHING STAFF"},{key:"O",text:"OTHERS",value:"OTHERS"}],O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.handleOptionSelect=function(t,a){var n=a.name,l=a.value;e.setState(Object(m.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0});var a=e.state,n=(a.uniqueIdentity,a.fullName),l=b.database().ref("voters"),o={fullName:e.state.fullName,category:e.state.category,section:e.state.section,teacher:e.state.teacher,schoolId:e.state.schoolId,email:e.state.email,status:"Not voted",id:"LMC"+Math.random().toString(36).substr(2,9).toUpperCase()};e.setState({uniqueIdentity:o.id,fullName:o.fullName});var r=e.state.fetchedSchoolId.find(function(t){return e.state.schoolId===t.schoolId}),s=e.state.votersData.find(function(t){return e.state.schoolId===t.voterSchoolId});r?s?(e.showAlert("danger","The school Id you entered has been used by another person to register. Please contact the administrator if it was not you."),e.setState({isLoading:!1})):l.push(o).then(function(){e.sendFeedback("E-Voting","".concat(e.state.fullName),"".concat(e.state.email),"You have successflly registered. Your voter ID is ".concat(e.state.uniqueIdentity,".")),e.setState({isLoading:!1}),e.props.history.push({pathname:"/successful-voter",state:{uniqueId:e.state.uniqueIdentity,fullName:n}})}):(e.showAlert("danger","The school Id you used was not registered by this school, Please Contact the administrator."),e.setState({isLoading:!1}))},e.sendFeedback=function(t,a,n,l){var o={receiverEmail:n,reply_to:"evoting@evoting.com.ng",receiverName:a,senderName:t,feedback:l},r="user_0BXEej2yQcLmlDlTI6wdg";C.init(r),C.send("default_service","template_KmBJEuEZ",o,r).then(function(t){e.setState({formEmailSent:!0})}).catch(function(e){return console.error("Failed to send feedback. Error: ",e)})},e.state={fullName:"",section:"",teacher:"",category:"",uniqueIdentity:"",schoolId:"",email:"",votersData:[],fetchedSchoolId:[],isLoading:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},8e3)}},{key:"componentWillMount",value:function(){var e=this;b.database().ref("school").on("value",function(t){var a=[];t.forEach(function(t){var n={schoolId:t.key};a.push(n),e.setState({fetchedSchoolId:a})})}),b.database().ref("voters").on("value",function(t){var a=[];t.forEach(function(t){var n={voterSchoolId:t.val().schoolId};a.push(n),e.setState({votersData:a})})})}},{key:"render",value:function(){var e=this.state,t=e.fullName,a=e.category,n=e.teacher,o=e.section,r=e.isLoading,s=e.schoolId,i=e.email;return l.a.createElement("div",null,l.a.createElement("h1",null,"Register Voters"),l.a.createElement("marquee",null,"Note:Fill form in ",l.a.createElement("strong",null,"Capital Letters")),this.state.alert&&l.a.createElement("div",{className:"alert alert-".concat(this.state.alertData.type),role:"alert"},l.a.createElement("div",{className:"container"},this.state.alertData.message)),l.a.createElement(p.a,{onChange:this.handleChange,onSubmit:this.handleSubmit},l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,label:"Full name",placeholder:"Full name",name:"fullName",value:t}),l.a.createElement(p.a.Field,{control:h.a,label:"Email",placeholder:"Email address",type:"email",name:"email",value:i})),l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:f.a,label:"Class/Category",options:S,placeholder:"Class/Category",name:"category",onChange:this.handleOptionSelect,value:a}),l.a.createElement(p.a.Field,{control:h.a,label:"Section",placeholder:"Section",name:"section",value:o})),l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,label:"Class Teacher",placeholder:"Class Teacher(For only students)",name:"teacher",value:n}),l.a.createElement(p.a.Field,{control:h.a,label:"School ID",placeholder:"School ID",name:"schoolId",value:s})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(p.a.Field,Object(m.a)({control:v.a,type:"submit",color:"blue",loading:r,disabled:!t||!a||!s},"type","submit"),"Submit")),l.a.createElement(y.Offline,null,l.a.createElement("marquee",null,"You are currently offline,Connect and contimue the process")))}}]),t}(n.Component),N=Object(E.d)(O),I=(a(220),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){a.setState({isLoading:!0});var t=a.state.fuid;e.preventDefault();var n=t.find(function(e){return e.id===a.state.id}),l=t.find(function(e){return a.state.id===e.id}),o=l?l.fullName:"",r=l?l.status:"",s=l?l.uid:"";a.setState({correctIdName:o});var i=n?n.id:"";i!==a.state.id||""===a.state.id||"Not voted"!==r&&"Voting in process"!==r?(a.showAlert("danger","You entered a wrong voter Id,Check your internet connection or Contact Admin if checked and not resolved."),a.setState({isLoading:!1})):(sessionStorage.setItem("VOTERID",i),a.props.history.push({pathname:"/election",state:{correctIdName:o,uid:s}}),a.setState({isLoading:!1}),b.database().ref("/voters/".concat(s)).update({status:"Voting in process"}))},a.state={fuid:[],id:"",isLoading:!1,alert:!1,alertData:{},correctIdName:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},8e3)}},{key:"componentDidMount",value:function(){var e=this;b.database().ref("voters").on("value",function(t){var a=[];t.forEach(function(t){var n={id:t.val().id,uid:t.key,fullName:t.val().fullName,status:t.val().status};a.push(n),e.setState({fuid:a})})})}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.isLoading;return l.a.createElement("div",null,l.a.createElement("h1",null,"Type in your ID to start Voting"),this.state.alert&&l.a.createElement("div",{className:"alert alert-".concat(this.state.alertData.type),role:"alert"},l.a.createElement("div",{className:"container"},this.state.alertData.message)),l.a.createElement(p.a,{onSubmit:this.handleSubmit},l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,label:"Voter ID",placeholder:"Voter ID",name:"id",value:t,onChange:this.handleChange})),l.a.createElement(p.a.Field,{control:v.a,type:"submit",loading:a},"Start Voting!!!")),l.a.createElement(y.Offline,null,l.a.createElement("marquee",null,"You are currently offline,Connect to continue the process")))}}]),t}(n.Component)),D=Object(E.d)(I),w=a(547),k=a(554),j=a(530),A=a(555),L=a(241),M=a(240),R=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).fetchAspirantsdata=function(){b.database().ref("posts").orderByChild("post").on("value",function(t){var a=[];t.forEach(function(t){a.push({id:t.val().id,post:t.val().post,aspirants:Object.entries(t.val().aspirants?t.val().aspirants:[]).map(function(e){return Object.assign(e[1],{aspirantKey:e[0]})})}),e.setState({contestantsPost:a})})})},e.state={contestantsPost:[],colors:["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey","black"]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchAspirantsdata()}},{key:"render",value:function(){var e=this.state,t=e.contestantsPost;e.colors;return l.a.createElement("div",null,l.a.createElement(w.a,null,l.a.createElement(k.a.Group,{centered:!0},t.map(function(e){return l.a.createElement(k.a,null,l.a.createElement(j.a.Group,null,l.a.createElement(A.a,{danger:!0,attached:"bottom"},l.a.createElement(L.a,{name:"user"}),e.post),e.aspirants.map(function(e,t){return l.a.createElement("div",null,l.a.createElement(j.a.Group,null,l.a.createElement(j.a,null,e.lastName+" "+e.firstName," ",l.a.createElement(M.a,{color:"blue",style:{float:"right"}},e.votes?Object.keys(e.votes).length:"0"))))})))}))))}}]),t}(n.Component),F=a(542),P=a(546),U=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.handleOptionSelect=function(t,a){var n=a.name,l=a.value;e.setState(Object(m.a)({},n,l))},e.setUrl=function(t){e.setState({url:t});var a=e.state.options.find(function(t){return t.key===e.state.prefectId}),n={firstName:e.state.firstName,lastName:e.state.lastName,prefectName:a.text,prefectId:e.state.prefectId,reason:e.state.reason,section:e.state.section,todo:e.state.todo,imageUrl:e.state.url,schoolId:e.state.schoolId,votes:[]},l=e.state.fetchedSchoolId.find(function(t){return e.state.schoolId===t.schoolId}),o=e.state.disapprovedId.find(function(t){return e.state.schoolId===t.disapprovedSchoolId}),r=e.state.aspirant.find(function(t){return e.state.schoolId===t.schoolId}),s=b.database().ref("posts/".concat(e.state.prefectId,"/aspirants"));l?r||o?(e.showAlert("danger","The school Id was registered by another user, Contact administrator if it was not you"),e.setState({isLoading:!1})):(s.push(n).then(function(){e.showAlert("success","You have successfully filled the form"),e.props.history.push({pathname:"/successful-aspirants"})}).catch(function(t){e.showAlert("danger",t)}),e.setState({isLoading:!1})):(e.showAlert("danger","The school Id was not registered with this school, Contact administrator for future explanation"),e.setState({isLoading:!1}))},e.handleSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0});var a=document.getElementById("my-file-id").files[0];if(a)var n=b.storage().ref(a.name);if(a)n.put(a).then(function(e){return e.ref.getDownloadURL()}).then(function(t){return e.setState({isLoading:!1}),e.setUrl({downloadURL:t})}).catch(function(e){console.log("error response : ".concat(e))});else{e.setUrl({downloadURL:""})}},e.state={firstName:"",lastName:"",prefectName:"",prefectId:"",schoolId:"",section:"",reason:"",todo:"",url:"",alert:!1,alertData:{},fetchedSchoolId:[],disapprovedId:[],aspirant:[],postsData:[],options:[{text:"",value:"",key:""}],isLoading:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},8e3)}},{key:"componentWillMount",value:function(){var e=this;b.database().ref("posts").orderByChild("post").on("value",function(t){var a=[];t.forEach(function(t){var n={text:t.val().post,value:t.key,key:t.key};a.push(n),e.setState({options:a})})}),b.database().ref("disapprovedAspirants").on("value",function(t){var a=[];t.forEach(function(t){a.push({disapprovedSchoolId:t.val().schoolId}),e.setState({disapprovedId:a})})}),b.database().ref("school").on("value",function(t){var a=[];t.forEach(function(t){var n={schoolId:t.val().schoolId};a.push(n),e.setState({fetchedSchoolId:a})})}),b.database().ref("posts").orderByChild("post").on("value",function(t){var a=[];t.forEach(function(e){a.push({aspirants:Object.entries(e.val().aspirants?e.val().aspirants:[]).map(function(e){return Object.assign(e[1],{aspirantKey:e[0]})})})});var n=a.filter(function(e){return e.aspirants.length>0}).map(function(e){return e.aspirants}).reduce(function(e,t){return e.concat(t)},[]);e.setState({aspirant:n})})}},{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.prefectId,o=e.reason,r=e.section,s=e.todo,i=e.schoolId,c=e.options,u=e.isLoading;return l.a.createElement("div",null,l.a.createElement("h1",null,"Register Aspirants"),this.state.alert&&l.a.createElement("div",{className:"alert alert-".concat(this.state.alertData.type),role:"alert"},l.a.createElement("div",{className:"container"},this.state.alertData.message)),l.a.createElement(p.a,{ref:"contactForm",onSubmit:this.handleSubmit,onChange:this.handleChange},l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,label:"First name",placeholder:"First name",name:"firstName",value:t}),l.a.createElement(p.a.Field,{control:h.a,label:"Last name",placeholder:"Last name",name:"lastName",value:a})),l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:f.a,label:"Post",options:c,placeholder:"Post",name:"prefectId",onChange:this.handleOptionSelect,value:n}),l.a.createElement(p.a.Field,{control:h.a,label:"School ID",placeholder:"School ID",name:"schoolId",value:i})),l.a.createElement(p.a.Group,{inline:!0},l.a.createElement("label",null,"SS2"),l.a.createElement(p.a.Field,{control:F.a,label:"A",value:"A",checked:"A"===this.state.section,name:"section",onChange:this.handleOptionSelect}),l.a.createElement(p.a.Field,{control:F.a,label:"B",value:"B",checked:"B"===this.state.section,name:"section",onChange:this.handleOptionSelect}),l.a.createElement(p.a.Field,{control:F.a,label:"C",value:"C",checked:"C"===this.state.section,name:"section",onChange:this.handleOptionSelect})),l.a.createElement(p.a.Field,{control:P.a,label:"Reason for aspiring  to become a Prefect",placeholder:"Tell us  ...",name:"reason"}),l.a.createElement(p.a.Field,{control:P.a,label:"What would you contribute to the value of the school you become a prefect",placeholder:"Tell us  ...",name:"todo"}),l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(h.a,{type:"file",id:"my-file-id"})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(p.a.Field,{control:v.a,type:"submit",color:"blue",disabled:!t||!a||!o||!r||!s||!i,loading:u},"Submit")),l.a.createElement("div",null),l.a.createElement(y.Offline,null,l.a.createElement("marquee",null,"You are currently offline,Connect and contimue the process")))}}]),t}(n.Component),H=Object(E.d)(U),T=a(253),Y=a.n(T),V=a(559),x=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"You have successfully registered"),l.a.createElement("img",{className:"register",src:Y.a,alt:"gif",height:"300px",width:"50%"}),l.a.createElement("h4",{style:{fontSize:25}},l.a.createElement("center",null,"Wait patiently till the day of the screening!!!")),l.a.createElement("div",{style:{marginLeft:"50%",marginRight:"50%"}}," ",l.a.createElement(V.a,{trigger:l.a.createElement(v.a,{primary:!0,as:E.b,to:"/registerAspirants"},"Finish!"),content:"Go back to  Register"})))}}]),t}(n.Component),q=a(256),G=a.n(q),K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={uniqueId:e.location.state?e.location.state.uniqueId:"",fullName:a.props.location.state?a.props.location.state.fullName:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"You have successfully registered"),l.a.createElement("img",{className:"register",src:G.a,alt:"gif",height:"300px",width:"50%"}),l.a.createElement("center",null,l.a.createElement("div",{style:{fontSize:"20px"}},"The VoterID for "," "+this.state.fullName+" ","is",l.a.createElement("span",{style:{fontWeight:"bold",fontSize:"25px"}}," "+this.state.uniqueId))),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("div",{style:{fontWeight:"bold"}},"Take Note!!!...The voterID would be needed during voting process")),l.a.createElement("br",null),l.a.createElement("div",{style:{marginLeft:"50%",marginRight:"50%"}}," ",l.a.createElement(V.a,{trigger:l.a.createElement(v.a,{primary:!0,as:E.b,to:"/Register"},"Finish!"),content:"Go back to Register"})))}}]),t}(n.Component),B=(a(407),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){a.setState({isLoading:!0});var t=a.state.fuid;e.preventDefault();var n=t.find(function(e){return e.username===a.state.username&&e.password===a.state.password}),l=n?n.username:"",o=n?n.password:"";l===a.state.username&&o===a.state.password&&""!==a.state.username&&""!==a.state.password?(sessionStorage.setItem("USERNAME",a.state.username),a.props.history.push({pathname:"/admin"}),a.setState({isLoading:!1})):(a.showAlert("danger","You entered a wrong admin detail,Check your internet connection and try again."),a.setState({isLoading:!1}))},a.state={fuid:[],username:"",password:"",isLoading:!1,alert:!1,alertData:{}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},8e3)}},{key:"componentDidMount",value:function(){var e=this;b.database().ref("admin").on("value",function(t){var a=[];t.forEach(function(t){var n={username:t.val().username,password:t.val().password};a.push(n),e.setState({fuid:a})})})}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.isLoading;return l.a.createElement("div",null,l.a.createElement("h1",null,"Admin Login"),this.state.alert&&l.a.createElement("div",{className:"alert alert-".concat(this.state.alertData.type),role:"alert"},l.a.createElement("div",{className:"container"},this.state.alertData.message)),l.a.createElement(p.a,{onSubmit:this.handleSubmit},l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,label:"Username",placeholder:"Username",name:"username",value:t,onChange:this.handleChange}),l.a.createElement(p.a.Field,{control:h.a,label:"Password",type:"password",placeholder:"Password",name:"password",value:a,onChange:this.handleChange})),l.a.createElement(p.a.Field,{control:v.a,type:"submit",loading:n},"Login!!!")),l.a.createElement(y.Offline,null,l.a.createElement("marquee",null,"You are currently offline,Connect to continue the process")))}}]),t}(n.Component)),z=Object(E.d)(B),W=(a(409),n.Component,a(556)),J=a(529),_=a(549),Q=a(558),X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleOpenModal=function(){a.setState({openModal:!0})},a.handleCloseModal=function(){a.setState({openModal:!1})},a.handleClick=function(e,t){var n=t.index,l=a.state.activeIndex===n?-1:n;a.setState({activeIndex:l})},a.handleFinish=function(){sessionStorage.removeItem("VOTERID"),a.props.history.push({pathname:"/login"}),b.database().ref("/voters/".concat(a.state.uid)).update({status:"Has Voted"})},a.handleUnvote=function(e,t,n,l){return function(){var n=a.state.voterId;b.database().ref("posts/".concat(e,"/aspirants/").concat(t,"/votes/").concat(n)).remove(),b.database().ref("posts/".concat(e,"/votes/").concat(n)).remove()}},a.handleVote=function(e,t,n,l){return function(){var n=a.state.voterId;b.database().ref("posts/".concat(e,"/aspirants/").concat(t,"/votes")).child(n).set({voterId:n}),b.database().ref("posts/".concat(e,"/votes")).child(n).set({voterId:n})}},a.fetchAspirantsdata=function(){b.database().ref("posts").orderByChild("post").on("value",function(e){var t=[];e.forEach(function(e){t.push({id:e.val().id,post:e.val().post,votes:e.val().votes,aspirants:Object.entries(e.val().aspirants?e.val().aspirants:[]).map(function(e){return Object.assign(e[1],{aspirantKey:e[0]})})}),a.setState({contestantsPost:t})})})},a.state={activeIndex:"",contestantsPost:[],fullName:e.location.state?e.location.state.correctIdName:"",uid:e.location.state?e.location.state.uid:"",haveVoted:[],voterId:"",openModal:!1,isLoading:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},4e3)}},{key:"componentDidMount",value:function(){this.fetchAspirantsdata();var e=sessionStorage.getItem("VOTERID");this.setState({voterId:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.activeIndex,n=t.contestantsPost,o=t.voterId;return l.a.createElement("div",null,l.a.createElement("h1",null,"Welcome "," "+this.state.fullName+", "," Vote wisely!"),l.a.createElement(w.a,null,l.a.createElement(W.a,{styled:!0,style:{width:"100%"}},n.map(function(t,n){return l.a.createElement("div",null,l.a.createElement(W.a.Title,{active:a===n,index:n,onClick:e.handleClick,key:t.key},l.a.createElement(L.a,{name:"dropdown"}),t.votes&&t.votes[o]?l.a.createElement(M.a,{color:"green",content:t.post}):t.post),l.a.createElement(W.a.Content,{active:a===n},l.a.createElement(k.a.Group,{centered:!0,stretched:!0},t.aspirants.map(function(a,r){return l.a.createElement(k.a,{style:{width:"200px",height:"20%"}},l.a.createElement(J.a,{src:a.imageUrl?a.imageUrl.downloadURL:"",style:{height:"120px"}}),l.a.createElement(k.a.Content,null,l.a.createElement(k.a.Header,null,l.a.createElement("center",null,a.lastName+" "+a.firstName))),l.a.createElement(k.a.Content,{extra:!0},l.a.createElement("center",null,!(a.votes&&a.votes[o])&&l.a.createElement(v.a,{color:"green",onClick:e.handleVote(a.prefectId,a.aspirantKey,n,r),disabled:t.votes&&t.votes[o]},"Vote"),a.votes&&a.votes[o]&&l.a.createElement(v.a,{color:"red",onClick:e.handleUnvote(a.prefectId,a.aspirantKey,n,r)},"Unvote"))))}))))})),l.a.createElement("br",null),l.a.createElement("div",{style:{marginLeft:"50%",marginRight:"50%"}},l.a.createElement(p.a.Field,{style:{paddingLeft:"auto",paddingRight:"auto"},control:v.a,type:"submit",color:"blue",onClick:this.handleOpenModal},"Finish"))),l.a.createElement("div",null,l.a.createElement(_.a,{open:this.state.openModal,onClose:this.handleCloseModal,basic:!0,size:"small",style:{minHeight:"100vh"}},l.a.createElement(Q.a,{icon:"user delete",content:"Removal Confirmation"}),l.a.createElement(_.a.Content,null,l.a.createElement("p",null,"Are you sure you want to want to end Voting process"),l.a.createElement("h4",null,"Note:You cant change your mind after submitting")),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{basic:!0,color:"red",inverted:!0,onClick:this.handleCloseDisapprovedModal},l.a.createElement(L.a,{name:"remove"})," No"),l.a.createElement(v.a,{color:"green",onClick:function(){return e.handleFinish()},loading:this.state.isLoading},l.a.createElement(L.a,{name:"checkmark"})," Yes")))))}}]),t}(n.Component),Z=Object(E.d)(X),$=a(533),ee=a(553),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.setState({isLoading:!0});var t=b.database().ref("posts"),n={post:a.state.postName,id:"pst"+Math.random().toString(36).substr(2,9).toUpperCase()};t.push(n).then(function(){a.showAlert("success","You have successfully added a new post")}).then(function(){a.setState({isLoading:!1})})},a.state={postName:"",isLoading:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},8e3)}},{key:"render",value:function(){var e=this.state.isLoading;return l.a.createElement("div",null,this.state.alert&&l.a.createElement("div",{className:"alert alert-".concat(this.state.alertData.type),role:"alert"},l.a.createElement("div",{className:"container"},this.state.alertData.message)),l.a.createElement(w.a,null,l.a.createElement(p.a,{onChange:this.handleChange,onSubmit:this.handleSubmit},l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,placeholder:"Post name",name:"postName",value:this.state.postName})),l.a.createElement(p.a.Field,{control:v.a,loading:e,color:"blue",disabled:!this.state.postName},"Add Post"))),l.a.createElement(y.Offline,null,l.a.createElement("marquee",null,"You are currently offline,Connect and contimue the process")))}}]),t}(n.Component),ae=a(551),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).openDisapprove=function(e,t,n,l,o,r,s,i,c,u){a.setState({userId:e,aspirantKey:t,lastName:n,firstName:l,prefectName:o,section:r,schoolId:s,reason:i,todo:c,imageUrl:u}),a.handleOpenDisapprovedModal()},a.approveItem=function(e,t,n,l,o,r,s,i,c,u){a.setState({isLoading:!0}),b.database().ref("/posts/".concat(e,"/aspirants/")).child("".concat(t)).set({firstName:l,lastName:n,prefectName:o,prefectId:e,reason:i,section:r,todo:c,imageUrl:u,schoolId:s}).then(function(){b.database().ref("disapprovedAspirants/".concat(t)).remove(),a.setState({isLoading:!1}),a.handleCloseDisapprovedModal()})},a.openProfile=function(e,t,n,l,o,r,s,i,c,u){a.setState({userId:e,aKey:t,lastName:n,firstName:l,prefectName:o,section:r,schoolId:s,reason:i,todo:c,imageUrl:u}),a.handleProfileOpen()},a.handleProfileOpen=function(){return a.setState({modalProfileOpen:!0})},a.handleProfileClose=function(){return a.setState({modalProfileOpen:!1})},a.openReason=function(e,t,n,l){a.setState({prefectName:e,lastName:t,firstName:n,reasonDisapproval:l}),a.handleOpen()},a.handleOpen=function(){a.setState({modalOpen:!0})},a.handleClose=function(){a.setState({modalOpen:!1})},a.handleOpenDisapprovedModal=function(){a.setState({openDisapprovedModal:!0})},a.handleCloseDisapprovedModal=function(){a.setState({openDisapprovedModal:!1})},a.changePost=function(e,t,n,l,o,r,s,i,c){a.props.history.push({pathname:"/change",state:{post:e,lastName:t,firstName:n,id:l,aspirantKey:o,section:r,reason:s,todo:i,imageUrl:c}})},a.fetchAspirantsdata=function(){b.database().ref("disapprovedAspirants").orderByChild("prefectName").on("value",function(e){var t=[];e.forEach(function(e){t.push({firstName:e.val().firstName,lastName:e.val().lastName,prefectId:e.val().prefectId,imageUrl:e.val().imageUrl,prefectName:e.val().prefectName,reason:e.val().reason,schoolId:e.val().schoolId,section:e.val().section,todo:e.val().todo,aspirantKey:e.key,reasonDisapproval:e.val().reasonDisapproval})}),a.setState({postsData:t})})},a.state={postsData:[],isLoading:!1,openDisapprovedModal:!1,aKey:"",userId:"",aspirant:[],modalOpen:!1,modalProfileOpen:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchAspirantsdata()}},{key:"render",value:function(){var e=this,t=this.state,a=t.postsData,n=t.isLoading,o=t.openDisapprovedModal,r=(t.aspirant,t.aspirantKey),s=t.lastName,i=t.firstName,c=t.prefectName,u=t.section,d=t.schoolId,m=t.reason,p=t.todo,h=t.imageUrl;return l.a.createElement("div",null,l.a.createElement(ae.a,{celled:!0,inverted:!0,selectable:!0},l.a.createElement(ae.a.Header,null,l.a.createElement(ae.a.Row,null,l.a.createElement(ae.a.HeaderCell,null,"Fullname"),l.a.createElement(ae.a.HeaderCell,null,"Post"),l.a.createElement(ae.a.HeaderCell,null,"Class(SS2)"),l.a.createElement(ae.a.HeaderCell,null,"School ID"),l.a.createElement(ae.a.HeaderCell,null,"Reason for aspiring to become a Prefect"),l.a.createElement(ae.a.HeaderCell,null,"What would do when elected to that post"),l.a.createElement(ae.a.HeaderCell,null,"Status"))),l.a.createElement(ae.a.Body,null,a.map(function(t,a){return l.a.createElement(ae.a.Row,{key:a},l.a.createElement(ae.a.Cell,null,l.a.createElement(Q.a,{as:"h4"},l.a.createElement(J.a,{src:t.imageUrl?t.imageUrl.downloadURL:"",rounded:!0,size:"mini"}),l.a.createElement(Q.a.Content,{style:{color:"white"}},t.lastName+" "+t.firstName))),l.a.createElement(ae.a.Cell,null,t.prefectName),l.a.createElement(ae.a.Cell,null,t.section),l.a.createElement(ae.a.Cell,null,t.schoolId),l.a.createElement(ae.a.Cell,null,t.reason),l.a.createElement(ae.a.Cell,null,t.todo),l.a.createElement(ae.a.Cell,null,l.a.createElement(v.a,{basic:!0,color:"green",onClick:function(){return e.openDisapprove(t.prefectId,t.aspirantKey,t.lastName,t.firstName,t.prefectName,t.section,t.schoolId,t.reason,t.todo,t.imageUrl)}},"Approve"),l.a.createElement(v.a,{basic:!0,color:"blue",onClick:function(){return e.openReason(t.prefectName,t.lastName,t.firstName,t.reasonDisapproval)}},"Reason for disapproval"),l.a.createElement(V.a,{trigger:l.a.createElement(v.a,{primary:!0,icon:"eye",onClick:function(){return e.openProfile(t.prefectId,t.aspirantKey,t.lastName,t.firstName,t.prefectName,t.section,t.schoolId,t.reason,t.todo,t.imageUrl)}}),content:"View details"})))}))),l.a.createElement(J.a,{src:this.state.img,rounded:!0,size:"mini"}),l.a.createElement("div",null,l.a.createElement(_.a,{open:o,onClose:this.handleCloseDisapprovedModal,basic:!0,size:"small",style:{minHeight:"100vh"}},l.a.createElement(Q.a,{icon:"check circle",content:"Approval Confirmation"}),l.a.createElement(_.a.Content,null,l.a.createElement("p",null,"Are you sure you want to approve ",this.state.firstName+" "+this.state.lastName)),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{basic:!0,color:"red",inverted:!0,onClick:this.handleCloseDisapprovedModal},l.a.createElement(L.a,{name:"remove"})," No"),l.a.createElement(v.a,{color:"green",onClick:function(){return e.approveItem(e.state.userId,r,s,i,c,u,d,m,p,h)},loading:n},l.a.createElement(L.a,{name:"checkmark"})," Yes")))),l.a.createElement("div",null,l.a.createElement(_.a,{open:this.state.modalOpen,onClose:this.handleClose,basic:!0,size:"small"},l.a.createElement(Q.a,null,"The reason for the disapproval of ",this.state.lastName+" "+this.state.firstName," as an aspirant of ",this.state.prefectName," is ..."),l.a.createElement(_.a.Content,null,l.a.createElement("h2",{style:{color:"white"}},this.state.reasonDisapproval)),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{color:"green",onClick:this.handleClose,inverted:!0},l.a.createElement(L.a,{name:"checkmark"})," Got it")))),l.a.createElement("div",null,l.a.createElement(_.a,{open:this.state.modalProfileOpen,onClose:this.handleProfileClose,basic:!0,size:"small"},l.a.createElement(_.a.Header,null,this.state.lastName+" "+this.state.firstName),l.a.createElement(_.a.Content,{image:!0},l.a.createElement(J.a,{wrapped:!0,size:"medium",src:this.state.imageUrl?this.state.imageUrl.downloadURL:""}),l.a.createElement(_.a.Description,null,l.a.createElement(Q.a,{style:{color:"white"}},"SchoolID: ",this.state.schoolId),l.a.createElement("p",null,l.a.createElement("b",null,"Reason for applying to become a prefect:"),"   "+this.state.reason),l.a.createElement("p",null,l.a.createElement("b",null,"What would you do if you get there:"),"   "+this.state.todo),l.a.createElement("p",null,l.a.createElement("b",null,"Class:")," SS2","   "+this.state.section))),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{color:"green",onClick:this.handleProfileClose},l.a.createElement(L.a,{name:"checkmark"})," Got it")))))}}]),t}(n.Component),le=Object(E.d)(ne),oe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).openRemove=function(t,a){e.setState({userId:t}),e.setState({post:a}),e.handleOpenDisapprovedModal()},e.removePost=function(t){e.setState({isLoading:!0}),b.database().ref("/posts/".concat(t)).remove().then(function(){e.setState({isLoading:!1}),e.handleCloseDisapprovedModal()})},e.handleOpenDisapprovedModal=function(){e.setState({openDisapprovedModal:!0})},e.handleCloseDisapprovedModal=function(){e.setState({openDisapprovedModal:!1})},e.state={posts:[],openDisapprovedModal:!1,userId:"",isLoading:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.database().ref("posts").orderByChild("post").on("value",function(t){var a=[];t.forEach(function(t){var n={id:t.key,post:t.val().post};a.push(n),e.setState({posts:a})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.posts,n=t.isLoading,o=t.openDisapprovedModal;return l.a.createElement("div",null,l.a.createElement(w.a,null,l.a.createElement(ae.a,{collapsing:!0},l.a.createElement(ae.a.Header,null,l.a.createElement(ae.a.Row,null,l.a.createElement(ae.a.HeaderCell,{textAlign:"right"},"Post"),l.a.createElement(ae.a.HeaderCell,null," "))),l.a.createElement(ae.a.Body,null,a.map(function(t){return l.a.createElement(ae.a.Row,{key:t.id},l.a.createElement(ae.a.Cell,null,t.post," "),l.a.createElement(ae.a.Cell,null,l.a.createElement(v.a,{basic:!0,color:"red",onClick:function(){e.openRemove(t.id,t.post)}},"Remove")))})))),l.a.createElement("div",null,l.a.createElement(_.a,{open:o,onClose:this.handleCloseDisapprovedModal,basic:!0,size:"small",style:{minHeight:"100vh"}},l.a.createElement(Q.a,{icon:"user delete",content:"Removal Confirmation"}),l.a.createElement(_.a.Content,null,l.a.createElement("p",null,"Are you sure you want to remove ",this.state.post)),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{basic:!0,color:"red",inverted:!0,onClick:this.handleCloseDisapprovedModal},l.a.createElement(L.a,{name:"remove"})," No"),l.a.createElement(v.a,{color:"green",onClick:function(){return e.removePost(e.state.userId)},loading:n},l.a.createElement(L.a,{name:"checkmark"})," Yes")))))}}]),t}(n.Component),re=a(263),se=a.n(re),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.openProfile=function(e,t,n,l,o,r,s,i,c,u){a.setState({userId:e,aKey:t,lastName:n,firstName:l,prefectName:o,section:r,schoolId:s,reason:i,todo:c,imageUrl:u}),a.handleOpen()},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){return a.setState({modalOpen:!1})},a.openDisapprove=function(e,t,n,l,o,r,s,i,c,u){a.setState({userId:e,aKey:t,lastName:n,firstName:l,prefectName:o,section:r,schoolId:s,reason:i,todo:c,imageUrl:u}),a.handleOpenDisapprovedModal()},a.removeItem=function(e,t,n,l,o,r,s,i,c,u){a.setState({isLoading:!0}),b.database().ref("disapprovedAspirants").child("".concat(t)).set({firstName:l,lastName:n,prefectName:o,prefectId:e,reason:i,section:r,todo:c,imageUrl:u,schoolId:s,reasonDisapproval:a.state.reasonDisapproval}).then(function(){b.database().ref("/posts/".concat(e,"/aspirants/").concat(t)).remove().then(function(){a.setState({isLoading:!1}),a.handleCloseDisapprovedModal(),a.setState({reasonDisapproval:""})})})},a.handleOpenDisapprovedModal=function(){a.setState({openDisapprovedModal:!0})},a.handleCloseDisapprovedModal=function(){a.setState({openDisapprovedModal:!1})},a.changePost=function(e,t,n,l,o,r,s,i,c){a.props.history.push({pathname:"/change",state:{post:e,lastName:t,firstName:n,id:l,aspirantKey:o,section:r,reason:s,todo:i,imageUrl:c}})},a.fetchAspirantsdata=function(){b.database().ref("posts").orderByChild("post").on("value",function(e){var t=[];e.forEach(function(e){t.push({aspirants:Object.entries(e.val().aspirants?e.val().aspirants:[]).map(function(e){return Object.assign(e[1],{aspirantKey:e[0]})})})}),a.setState({postsData:t});var n=t.filter(function(e){return e.aspirants.length>0}).map(function(e){return e.aspirants}).reduce(function(e,t){return e.concat(t)},[]);a.setState({aspirant:n})})},a.state={postsData:[],isLoading:!1,openDisapprovedModal:!1,aKey:"",userId:"",firstName:"",lastName:"",prefectName:"",reasonDisapproval:"",section:"",schoolId:"",reson:"",todo:"",imageUrl:"",basic:!0,buttonContent:"Approved",aspirant:[],modalOpen:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchAspirantsdata()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.postsData,t.isLoading),n=t.openDisapprovedModal,o=t.reasonDisapproval,r=t.aspirant,s=t.userId,i=t.aKey,c=t.firstName,u=t.lastName,d=t.schoolId,m=t.section,h=t.reason,f=t.imageUrl,E=(t.prefectId,t.prefectName),g=t.todo;return l.a.createElement("div",null,l.a.createElement(ae.a,{celled:!0,inverted:!0,selectable:!0},l.a.createElement(ae.a.Header,null,l.a.createElement(ae.a.Row,null,l.a.createElement(ae.a.HeaderCell,null,"Fullname"),l.a.createElement(ae.a.HeaderCell,null,"Post"),l.a.createElement(ae.a.HeaderCell,null,"Class(SS2)"),l.a.createElement(ae.a.HeaderCell,null,"School ID"),l.a.createElement(ae.a.HeaderCell,null,"Reason for aspiring to become a Prefect"),l.a.createElement(ae.a.HeaderCell,null,"What would do when elected to that post"),l.a.createElement(ae.a.HeaderCell,null,"Status"))),l.a.createElement(ae.a.Body,null,r.map(function(t,a){return l.a.createElement(ae.a.Row,{key:a},l.a.createElement(ae.a.Cell,null,l.a.createElement(Q.a,{as:"h4"},l.a.createElement(J.a,{src:t.imageUrl?t.imageUrl.downloadURL:"",rounded:!0,size:"mini"}),l.a.createElement(Q.a.Content,{style:{color:"white"},onClick:function(){return e.openProfile(t.prefectId,t.aspirantKey,t.lastName,t.firstName,t.prefectName,t.section,t.schoolId,t.reason,t.todo,t.imageUrl)}},t.lastName+" "+t.firstName))),l.a.createElement(ae.a.Cell,null,t.prefectName),l.a.createElement(ae.a.Cell,null,t.section),l.a.createElement(ae.a.Cell,null,t.schoolId),l.a.createElement(ae.a.Cell,null,t.reason),l.a.createElement(ae.a.Cell,null,t.todo),l.a.createElement(ae.a.Cell,null,l.a.createElement(v.a,{basic:!0,color:"red",onClick:function(){return e.openDisapprove(t.prefectId,t.aspirantKey,t.lastName,t.firstName,t.prefectName,t.section,t.schoolId,t.reason,t.todo,t.imageUrl)}},"Disapprove"),l.a.createElement(v.a,{basic:!0,color:"yellow",onClick:function(){return e.changePost(t.prefectName,t.lastName,t.firstName,t.prefectId,t.aspirantKey,t.section,t.reason,t.todo,t.imageUrl.downloadURL)}},"Change Post"),l.a.createElement(V.a,{trigger:l.a.createElement(v.a,{primary:!0,icon:"eye",onClick:function(){return e.openProfile(t.prefectId,t.aspirantKey,t.lastName,t.firstName,t.prefectName,t.section,t.schoolId,t.reason,t.todo,t.imageUrl)}}),content:"View details"})))}))),l.a.createElement(J.a,{src:this.state.img,rounded:!0,size:"mini"}),l.a.createElement("div",null,l.a.createElement(_.a,{open:n,onClose:this.handleCloseDisapprovedModal,basic:!0,size:"small",style:{minHeight:"100vh"}},l.a.createElement(Q.a,{icon:"user delete",content:"Removal Confirmation"}),l.a.createElement(_.a.Content,null,l.a.createElement("p",null,"Are you sure you want to remove"," ",this.state.lastName+" "+this.state.firstName),l.a.createElement(se.a,{inverted:!0},l.a.createElement(p.a,null," ",l.a.createElement(p.a.Field,{onChange:this.handleChange,control:P.a,label:"Reason for disapproval",placeholder:"What is the reason for  disapproving this aspirant",name:"reasonDisapproval",value:o})))),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{basic:!0,color:"red",inverted:!0,onClick:this.handleCloseDisapprovedModal},l.a.createElement(L.a,{name:"remove"})," No"),l.a.createElement(v.a,{disabled:!o,color:"green",onClick:function(){return e.removeItem(s,i,u,c,E,m,d||"",h,g,f)},loading:a},l.a.createElement(L.a,{name:"checkmark"})," Yes")))),l.a.createElement("div",null,l.a.createElement(_.a,{open:this.state.modalOpen,onClose:this.handleClose,basic:!0,size:"small"},l.a.createElement(_.a.Header,null,this.state.lastName+" "+this.state.firstName),l.a.createElement(_.a.Content,{image:!0},l.a.createElement(J.a,{wrapped:!0,size:"medium",src:this.state.imageUrl.downloadURL}),l.a.createElement(_.a.Description,null,l.a.createElement(Q.a,{style:{color:"white"}},"SchoolID: ",this.state.schoolId),l.a.createElement("p",null,l.a.createElement("b",null,"Reason for applying to become a prefect:"),"   "+this.state.reason),l.a.createElement("p",null,l.a.createElement("b",null,"What would you do if you get there:"),"   "+this.state.todo),l.a.createElement("p",null,l.a.createElement("b",null,"Class:")," SS2","   "+this.state.section))),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{color:"green",onClick:this.handleClose},l.a.createElement(L.a,{name:"checkmark"})," Got it"))),")"))}}]),t}(n.Component),ce=Object(E.d)(ie),ue=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).openRemove=function(t,a){e.setState({userId:t}),e.setState({fullName:a}),e.handleOpenDisapprovedModal()},e.removeVoter=function(t){e.setState({isLoading:!0}),b.database().ref("/voters/".concat(t)).remove().then(function(){e.setState({isLoading:!1}),e.handleCloseDisapprovedModal()})},e.handleOpenDisapprovedModal=function(){e.setState({openDisapprovedModal:!0})},e.handleCloseDisapprovedModal=function(){e.setState({openDisapprovedModal:!1})},e.fetchVotersData=function(){b.database().ref("voters").on("value",function(t){var a=[];t.forEach(function(t){var n={uid:t.key,fullName:t.val().fullName,teacher:t.val().teacher,class:t.val().category+" "+t.val().section,id:t.val().id,status:t.val().status};a.push(n),e.setState({votersData:a})})})},e.state={votersData:[],isLoading:!1,openDisapprovedModal:!1,userId:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchVotersData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.openDisapprovedModal;return l.a.createElement("div",null,l.a.createElement(w.a,null,l.a.createElement(ae.a,{celled:!0,inverted:!0,selectable:!0},l.a.createElement(ae.a.Header,null,l.a.createElement(ae.a.Row,null,l.a.createElement(ae.a.HeaderCell,null,"Fullname"),l.a.createElement(ae.a.HeaderCell,null,"Class"),l.a.createElement(ae.a.HeaderCell,null,"Class teacher"),l.a.createElement(ae.a.HeaderCell,null,"Voters id"),l.a.createElement(ae.a.HeaderCell,null,"Status"))),l.a.createElement(ae.a.Body,null,this.state.votersData.map(function(e){return l.a.createElement(ae.a.Row,{key:e.uid},l.a.createElement(ae.a.Cell,null,l.a.createElement(Q.a,{as:"h4"},l.a.createElement(Q.a.Content,{style:{color:"white"}},e.fullName))),l.a.createElement(ae.a.Cell,null,e.class),l.a.createElement(ae.a.Cell,null,e.teacher),l.a.createElement(ae.a.Cell,null,e.id),l.a.createElement(ae.a.Cell,null,e.status))})))),l.a.createElement("div",null,l.a.createElement(_.a,{open:n,onClose:this.handleCloseDisapprovedModal,basic:!0,size:"small",style:{minHeight:"100vh"}},l.a.createElement(Q.a,{icon:"user delete",content:"Removal Confirmation"}),l.a.createElement(_.a.Content,null,l.a.createElement("p",null,"Are you sure you want to remove ",this.state.fullName)),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{basic:!0,color:"red",inverted:!0,onClick:this.handleCloseDisapprovedModal},l.a.createElement(L.a,{name:"remove"})," No"),l.a.createElement(v.a,{color:"green",onClick:function(){return e.removeVoter(e.state.userId)},loading:a},l.a.createElement(L.a,{name:"checkmark"})," Yes")))))}}]),t}(n.Component),de=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(){e.setState({isLoading:!0}),e.props.history.push({pathname:"/login-admin"}),e.setState({isLoading:!1}),sessionStorage.removeItem("USERNAME")},e.handleOpenDisapprovedModal=function(){e.setState({openDisapprovedModal:!0})},e.handleCloseDisapprovedModal=function(){e.setState({openDisapprovedModal:!1})},e.changePassword=function(){e.props.history.push({pathname:"/change-password"})},e.state={isLoading:!1,openDisapprovedModal:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement(p.a.Field,{control:v.a,type:"submit",onClick:this.handleOpenDisapprovedModal,color:"blue"},"Logout!"),l.a.createElement(p.a.Field,{control:v.a,type:"submit",onClick:function(){return e.changePassword()},color:"red"},"Change Admin Password"),l.a.createElement(p.a.Field,{control:v.a,type:"submit",color:"green"},"Disable Election process"),l.a.createElement(p.a.Field,{control:v.a,type:"submit",color:"yellow"},"Disable Registration of aspirants"),l.a.createElement(p.a.Field,{control:v.a,type:"submit"},"Disable Registration of Voters")),l.a.createElement("div",null,l.a.createElement(_.a,{open:this.state.openDisapprovedModal,onClose:this.handleCloseDisapprovedModal,basic:!0,size:"small",style:{minHeight:"100vh"}},l.a.createElement(Q.a,{icon:"sign-out",content:"Logout Confirmation"}),l.a.createElement(_.a.Content,null,l.a.createElement("p",null,"Are you sure you want to Logout ",this.state.post)),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{basic:!0,color:"red",inverted:!0,onClick:this.handleCloseDisapprovedModal},l.a.createElement(L.a,{name:"remove"})," No"),l.a.createElement(v.a,{color:"green",onClick:this.handleSubmit,loading:this.state.isLoadingisLoading},l.a.createElement(L.a,{name:"checkmark"})," Yes")))))}}]),t}(n.Component),me=Object(E.d)(de),pe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0});var a=e.state,n=a.fetchedSchoolId,l=a.schoolId,o=a.fullName;if(n.find(function(t){return e.state.schoolId===t.schoolId}))e.showAlert("danger","Someone with this school ID has already been added"),e.setState({isLoading:!1});else{var r=l;b.database().ref("school").child(r).set({fullname:o,schoolId:l}).then(function(){e.showAlert("success","You have successfully added a person to be able to register to vote"),e.setState({isLoading:!1,fullName:"",schoolId:""})})}},e.state={fullName:"",schoolId:"",isLoading:!1,alert:!1,alertData:{},fetchedSchoolId:[]},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},8e3)}},{key:"componentDidMount",value:function(){var e=this;b.database().ref("schoolInfo").on("value",function(t){var a=[];t.forEach(function(t){var n={schoolId:t.key};a.push(n),e.setState({fetchedSchoolId:a})})})}},{key:"render",value:function(){var e=this.state,t=e.fullName,a=e.schoolId;return l.a.createElement("div",null,l.a.createElement("marquee",null,"The field must be filled with CAPITAL LETTERS"),this.state.alert&&l.a.createElement("div",{className:"alert alert-".concat(this.state.alertData.type),role:"alert"},l.a.createElement("div",{className:"container"},this.state.alertData.message)),l.a.createElement(p.a,{onChange:this.handleChange},l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,label:"Fullname",placeholder:"Fullname",name:"fullName",value:t}),l.a.createElement(p.a.Field,{control:h.a,label:"School ID",placeholder:"School ID",name:"schoolId",value:a})),l.a.createElement(p.a.Field,{control:v.a,type:"submit",color:"blue",disabled:!t||!a,loading:this.state.isLoading,onClick:this.handleSubmit},"Submit")))}}]),t}(n.Component),he=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).openRemove=function(t,a){e.setState({id:t}),e.setState({fullName:a}),e.handleOpenDisapprovedModal()},e.removeVoter=function(t){e.setState({isLoading:!0}),b.database().ref("/school/".concat(t)).remove(),e.setState({isLoading:!1}),e.handleCloseDisapprovedModal()},e.handleOpenDisapprovedModal=function(){e.setState({openDisapprovedModal:!0})},e.handleCloseDisapprovedModal=function(){e.setState({openDisapprovedModal:!1})},e.fetchVotersData=function(){b.database().ref("school").orderByChild("fullname").on("value",function(t){var a=[];t.forEach(function(t){var n={uid:t.key,fullName:t.val().fullname,schoolId:t.val().schoolId};a.push(n),e.setState({schoolData:a})})})},e.state={schoolData:[],isLoading:!1,openDisapprovedModal:!1,userId:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchVotersData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.openDisapprovedModal;return l.a.createElement("div",null,l.a.createElement(w.a,null,l.a.createElement(ae.a,{celled:!0,inverted:!0,selectable:!0},l.a.createElement(ae.a.Header,null,l.a.createElement(ae.a.Row,null,l.a.createElement(ae.a.HeaderCell,null,"Fullname"),l.a.createElement(ae.a.HeaderCell,null,"School Id"),l.a.createElement(ae.a.HeaderCell,null,"Status"))),l.a.createElement(ae.a.Body,null,this.state.schoolData.map(function(t,a){return l.a.createElement(ae.a.Row,{key:a},l.a.createElement(ae.a.Cell,null,l.a.createElement(Q.a,{as:"h4"},l.a.createElement(Q.a.Content,{style:{color:"white"}},t.fullName))),l.a.createElement(ae.a.Cell,null,t.schoolId),l.a.createElement(ae.a.Cell,null,l.a.createElement(v.a,{basic:!0,color:"red",onClick:function(){e.openRemove(t.uid,t.fullName)}},"Remove")))})))),l.a.createElement("div",null,l.a.createElement(_.a,{open:n,onClose:this.handleCloseDisapprovedModal,basic:!0,size:"small",style:{minHeight:"100vh"}},l.a.createElement(Q.a,{icon:"user delete",content:"Removal Confirmation"}),l.a.createElement(_.a.Content,null,l.a.createElement("p",null,"Are you sure you want to remove ",this.state.fullName)),l.a.createElement(_.a.Actions,null,l.a.createElement(v.a,{basic:!0,color:"red",inverted:!0,onClick:this.handleCloseDisapprovedModal},l.a.createElement(L.a,{name:"remove"})," No"),l.a.createElement(v.a,{color:"green",onClick:function(){return e.removeVoter(e.state.id)},loading:a},l.a.createElement(L.a,{name:"checkmark"})," Yes")))))}}]),t}(n.Component),fe=[{menuItem:"Add Posts",render:function(){return l.a.createElement(te,null)}},{menuItem:"Remove Posts",render:function(){return l.a.createElement(oe,null)}},{menuItem:"Applicants",render:function(){return l.a.createElement(ce,null)}},{menuItem:"Disapproved Applicants",render:function(){return l.a.createElement(le,null)}},{menuItem:"Add ID",render:function(){return l.a.createElement(pe,null)}},{menuItem:"School ID",render:function(){return l.a.createElement(he,null)}},{menuItem:"Voters",render:function(){return l.a.createElement(ue,null)}},{menuItem:"Results",render:function(){return l.a.createElement(R,null)}},{menuItem:"Logout",render:function(){return l.a.createElement(me,null)}}],ve=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Admin"),l.a.createElement(ee.a,{menu:{pointing:!0,secondary:!0},panes:fe}))}}]),t}(n.Component),Ee=a(294),ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).updatePost=function(e,t){var n=a.state.options;a.setState({isLoading:!0});var l=n.find(function(e){return e.key===a.state.selectedOption}),o=l.key,r={firstName:a.state.firstName,lastName:a.state.lastName,prefectName:l.text,prefectId:o,reason:a.state.reason,section:a.state.section,todo:a.state.todo,imageUrl:a.state.imageUrl,votes:[]};b.database().ref("posts/".concat(o,"/aspirants")).push(r).then(function(){b.database().ref("/posts/".concat(e,"/aspirants/").concat(t)).remove(),a.showAlert("success","You have successfully added a new post"),a.setState({isLoading:!1})})},a.handleOptionSelect=function(e,t){var n=t.name,l=t.value;a.setState(Object(m.a)({},n,l))},a.state={options:[{key:""}],selectedOption:"",post:e.location.state?e.location.state.post:"",firstName:e.location.state?e.location.state.firstName:"",lastName:e.location.state?e.location.state.lastName:"",id:e.location.state?e.location.state.id:"",aspirantKey:e.location.state?e.location.state.aspirantKey:"",section:e.location.state?e.location.state.section:"",reason:e.location.state?e.location.state.reason:"",todo:e.location.state?e.location.state.todo:"",imageUrl:{downloadURL:e.location.state.imageUrl},isLoading:!1,fullName:e.location.state.firstName+" "+e.location.state.lastName?e.location.state.firstName+" "+e.location.state.lastName:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},8e3)}},{key:"componentWillMount",value:function(){var e=this;b.database().ref("posts").orderByChild("post").on("value",function(t){var a=[];t.forEach(function(t){var n={text:t.val().post,value:t.key,key:t.key};a.push(n),e.setState({options:a})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.options,n=t.post,o=t.fullName,r=t.id,s=t.selectedOption,i=t.isLoading,c=t.aspirantKey;t.key;return l.a.createElement("div",null,l.a.createElement("h1",null,"Change Aspirant Post"),this.state.alert&&l.a.createElement("div",{className:"alert alert-".concat(this.state.alertData.type),role:"alert"},l.a.createElement("div",{className:"container"},this.state.alertData.message)),l.a.createElement("h2",null,o),l.a.createElement(p.a,null,l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,label:"Post selected",placeholder:this.props.post,readOnly:!0,value:n}),l.a.createElement(p.a.Field,{control:f.a,label:"Preferred Post",options:a,placeholder:"Post",name:"selectedOption",value:s,onChange:this.handleOptionSelect})),l.a.createElement(p.a.Field,{control:v.a,loading:i,onClick:function(){return e.updatePost(r,c)}},"Change")),l.a.createElement(y.Offline,null,l.a.createElement("marquee",null,"You are currently offline,Connect to the internet and continue the process")))}}]),t}(n.Component),be=Object(E.d)(ge),ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).updatePassword=function(e){var t=a.state,n=t.password,l=t.oldPassword;a.setState({isLoading:!0});var o=a.state.newPassword;l===n[0].adminPass?b.database().ref("/admin/".concat(e)).update({password:o}).then(function(){a.showAlert("success","You have successfully changed your admin password"),a.setState({isLoading:!1})}):(a.showAlert("danger","You entered an incorrect Old password"),a.setState({isLoading:!1}))},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.state={options:[],oldPassword:"",newPassword:"",password:[{adminPass:"mfvmd",id:""}],isLoading:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showAlert",value:function(e,t){var a=this;this.setState({alert:!0,alertData:{type:e,message:t}}),setTimeout(function(){a.setState({alert:!1})},8e3)}},{key:"componentDidMount",value:function(){var e=this;b.database().ref("admin").on("value",function(t){var a=[];t.forEach(function(t){var n={adminPass:t.val().password,id:t.key};a.push(n),e.setState({password:a})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.fullName,n=t.oldPassword,o=t.newPassword,r=t.isLoading,s=t.password;return l.a.createElement("div",null,l.a.createElement("h1",null,"Change Admin Password"),this.state.alert&&l.a.createElement("div",{className:"alert alert-".concat(this.state.alertData.type),role:"alert"},l.a.createElement("div",{className:"container"},this.state.alertData.message)),l.a.createElement("h2",null,a),l.a.createElement(p.a,{onChange:this.handleChange},l.a.createElement(p.a.Group,{widths:"equal"},l.a.createElement(p.a.Field,{control:h.a,label:"Old Password",value:n,name:"oldPassword",placeholder:"Old Password",type:"password"}),l.a.createElement(p.a.Field,{control:h.a,label:"New Password",placeholder:"New Password",name:"newPassword",value:o,type:"password"})),l.a.createElement(p.a.Field,{control:v.a,loading:r,onClick:function(){return e.updatePassword(s[0].id)}},"Change")),l.a.createElement(y.Offline,null,l.a.createElement("marquee",null,"You are currently offline,Connect and contimue the process")))}}]),t}(n.Component),Ce=Object(E.d)(ye),Se=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ee.a,null,l.a.createElement(E.c,{exact:!0,path:"/admin",component:ve}),l.a.createElement(E.c,{path:"/change",component:be}),l.a.createElement(E.c,{path:"/change-password",component:Ce})))}}]),t}(n.Component),Oe=a(531),Ne=a(548),Ie=a(242),De=a.n(Ie),we=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"E-voting Application"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(j.a,{placeholder:!0,color:"white"},l.a.createElement(Oe.a,{columns:4,stackable:!0,textAlign:"center"},l.a.createElement(Oe.a.Row,{verticalAlign:"middle"},l.a.createElement(Oe.a.Column,null,l.a.createElement(Q.a,{icon:!0},l.a.createElement(L.a,{name:"user circle"}),"Admin access only"),l.a.createElement(v.a,{color:"red",as:De.a,to:"/login-admin"},"Admin")),l.a.createElement(Ne.a,{vertical:!0}),l.a.createElement(Oe.a.Column,null,l.a.createElement(Q.a,{icon:!0},l.a.createElement(L.a,{name:"registered"}),"Register to contest"),l.a.createElement(v.a,{color:"yellow",as:De.a,to:"/register-aspirants"},"Register Aspirants")),l.a.createElement(Ne.a,{vertical:!0}),l.a.createElement(Oe.a.Column,null,l.a.createElement(Q.a,{icon:!0},l.a.createElement(L.a,{name:"users"}),"Register to Vote"),l.a.createElement(v.a,{color:"blue",as:De.a,to:"/register"},"Register Voters")),l.a.createElement(Ne.a,{vertical:!0}),l.a.createElement(Oe.a.Column,null,l.a.createElement(Q.a,{icon:!0},l.a.createElement(L.a,{name:"erase"}),"Vote for candidate"),l.a.createElement(v.a,{color:"green",as:De.a,to:"/login"},"Election"))))))}}]),t}(n.Component),ke=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(Ee.a,null,l.a.createElement(E.c,{path:"/election",component:Z})))}}]),t}(n.Component),je=function(e){var t=sessionStorage.getItem("USERNAME"),a=sessionStorage.getItem("VOTERID");return t?t?l.a.createElement(Se,null):l.a.createElement($.a,{to:{pathname:"/login-admin",state:{from:e.location}}}):a?a?l.a.createElement(ke,null):l.a.createElement($.a,{to:{pathname:"/login",state:{from:e.location}}}):!1===!!a||!1===!!t?l.a.createElement($.a,{to:{pathname:"/home",state:{from:e.location}}}):void 0},Ae=a(266),Le=a.n(Ae),Me=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(E.a,null,l.a.createElement(Le.a,null,l.a.createElement(E.c,{path:"/register-aspirants",component:H}),l.a.createElement(E.c,{path:"/successful-voter",component:K}),l.a.createElement(E.c,{path:"/successful-aspirants",component:x}),l.a.createElement(E.c,{path:"/login",component:D}),l.a.createElement(E.c,{path:"/login-admin",component:z}),l.a.createElement(E.c,{path:"/result",component:R}),l.a.createElement(E.c,{exact:!0,path:"/home",component:we}),l.a.createElement(E.c,{path:"/register",component:N}),l.a.createElement(je,{component:Se,path:"/"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[275,2,1]]]);
//# sourceMappingURL=main.6577c10f.chunk.js.map